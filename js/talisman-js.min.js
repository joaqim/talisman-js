!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("StateMachine",[],t):"object"==typeof exports?exports.StateMachine=t():e.StateMachine=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r;for(n=1;n<arguments.length;n++)for(r in i=arguments[n])i.hasOwnProperty(r)&&(e[r]=i[r]);return e}},function(e,t,n){"use strict";var i=n(0);e.exports={build:function(e,t){var n,r,o,a=t.plugins;for(n=0,r=a.length;n<r;n++)(o=a[n]).methods&&i(e,o.methods),o.properties&&Object.defineProperties(e,o.properties)},hook:function(e,t,n){var i,r,o,a,s=e.config.plugins,l=[e.context];for(n&&(l=l.concat(n)),i=0,r=s.length;i<r;i++)a=s[i],(o=s[i][t])&&o.apply(a,l)}}},function(e,t,n){"use strict";function i(e){if(0===e.length)return e;var t,n,i=e.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return e;for(n=i[0].toLowerCase(),t=1;t<i.length;t++)n=n+i[t].charAt(0).toUpperCase()+i[t].substring(1).toLowerCase();return n}i.prepended=function(e,t){return e+(t=i(t))[0].toUpperCase()+t.substring(1)},e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(2);function o(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}i(o.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=r.prepended("onEnter",e),this.lifecycle.onLeave[e]=r.prepended("onLeave",e),this.lifecycle.on[e]=r.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=r.prepended("onBefore",e),this.lifecycle.onAfter[e]=r.prepended("onAfter",e),this.lifecycle.on[e]=r.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,i=e.to;return this.addState(n),"function"!=typeof i&&this.addState(i),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(i({},this.defaults.init,{to:e,active:!0})):"object"==typeof e?this.mapTransition(i({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"==typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,i,r;for(n=0,i=(e=e||[]).length;n<i;n++)"function"==typeof(r=e[n])&&(e[n]=r=r()),r.configure&&r.configure(this);return e},configureTransitions:function(e){var t,n,i,r,o,a=this.defaults.wildcard;for(n=0;n<e.length;n++)for(i=e[n],r=Array.isArray(i.from)?i.from:[i.from||a],o=i.to||a,t=0;t<r.length;t++)this.mapTransition({name:i.name,from:r[t],to:o})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=o},function(e,t,n){var i=n(0),r=n(6),o=n(1),a=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}i(s.prototype,{init:function(e){if(i(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,e),r=i&&i.to;return"function"==typeof r?r.apply(this.context,t):r===n?this.state:r},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,i){var r=this.config.lifecycle,o=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(r.onBefore.transition),this.observersForEvent(r.onBefore[e]),o?this.observersForEvent(r.onLeave.state):a,o?this.observersForEvent(r.onLeave[t]):a,this.observersForEvent(r.on.transition),o?["doTransit",[this]]:a,o?this.observersForEvent(r.onEnter.state):a,o?this.observersForEvent(r.onEnter[n]):a,o?this.observersForEvent(r.on[n]):a,this.observersForEvent(r.onAfter.transition),this.observersForEvent(r.onAfter[e]),this.observersForEvent(r.on[e])],i)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,i=this.observers.length,r=[];n<i;n++)(t=this.observers[n])[e]&&r.push(t);return[e,r,!0]},observeEvents:function(e,t,n,i){if(0===e.length)return this.endTransit(void 0===i||i);var r=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=r,r&&s&&r!==n&&o.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,r,i);var l=a.shift(),c=l[r].apply(l,t);return c&&"function"==typeof c.then?c.then(this.observeEvents.bind(this,e,t,r)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,r,c)},onInvalidTransition:function(e,t,n){throw new r("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new r("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var i=n(0),r=n(2),o=n(1),a=n(3),s=n(4),l={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function d(e){return h(this||{},e)}function h(e,t){return u(e,new a(t,d)),e._fsm(),e}function u(e,t){if("object"!=typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");o.build(e,t),Object.defineProperties(e,c),i(e,l),i(e,t.methods),t.allTransitions().forEach((function(t){e[r(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}d.version="3.0.1",d.factory=function(){var e,t;"function"==typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new a(t,d);return u(e.prototype,n),e.prototype._fsm.config=n,e},d.apply=h,d.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=d},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){this.message=e,this.transition=t,this.from=n,this.to=i,this.current=r}}])}));var talisman=talisman||{};talisman.creatures=[{name:"wolf",type:"animal",strength:4,wisdom:0},{name:"storm_caller",type:"cultist",strength:4,wisdom:0,conditional:{target:"player",if:{has_armour:!0},do:{lose_life:1}}}],talisman.dice_animation_1=[[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[-.9390466809272766,.34378981590270996,2.1634768643252755e-8]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[-.9390467405319214,.3437897562980652,-.2908220589160919]],[[.3437896966934204,-.9390466809272766,3.6915540846393924e-8,0],[.9390466809272766,.3437896966934204,3.790296076999766e-8,0],[-4.828383026733718e-8,2.1634770419609595e-8,1,0],[0,0,0,1],[-.9390466213226318,.3437897861003876,-.49799296259880066]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[-.9390467405319214,.3437897861003876,-.8286471366882324]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[-.9390467405319214,.34378981590270996,-1.0623269081115723]],[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[-.9390466809272766,.34378987550735474,-1.4326772689819336]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[-.9390467405319214,.34378984570503235,-1.6927766799926758]],[[.3245978355407715,-.944862961769104,-.043246835470199585,0],[.9446356892585754,.3261594772338867,-.03582484647631645,0],[.04795493558049202,-.029223838821053505,.9984219074249268,0],[0,0,0,1],[-.9710723757743835,.3261597156524658,-2.0837044715881348]],[[.2849716246128082,-.9480326771736145,-.14151042699813843,0],[.9470744132995605,.30124083161354065,-.1109234094619751,0],[.14778773486614227,-.10241088271141052,.9837026000022888,0],[0,0,0,1],[-1.0308762788772583,.29483649134635925,-2.335193157196045]],[[.19530314207077026,-.8967787623405457,-.39704468846321106,0],[.9675408005714417,.24238164722919464,-.07152587175369263,0],[.16037923097610474,-.3701876997947693,.9150079488754272,0],[0,0,0,1],[-1.0865858793258667,.2603709399700165,-2.739950656890869]],[[.17082732915878296,-.842409074306488,-.5110430121421814,0],[.9809018969535828,.19435842335224152,.007505320943892002,0],[.09300296753644943,-.5025651454925537,.8595223426818848,0],[0,0,0,1],[-1.13483726978302,.23502217233181,-2.915634870529175]],[[.11016935855150223,-.7625009417533875,-.6375382542610168,0],[.9894558191299438,.14481781423091888,-.002221049042418599,0],[.09402044862508774,-.6305712461471558,.7704154849052429,0],[0,0,0,1],[-1.2360141277313232,.23769977688789368,-3.0615158081054688]],[[.07537412643432617,-.6988644599914551,-.7112715244293213,0],[.9934312701225281,.11421891301870346,-.006951674818992615,0],[.08609894663095474,-.7060754299163818,.7028829455375671,0],[0,0,0,1],[-1.2947959899902344,.23950102925300598,-3.1611146926879883]],[[.0278762336820364,-.5908553004264832,-.8062958121299744,0],[.9974115490913391,.069923996925354,-.01675673946738243,0],[.06628023833036423,-.8037416338920593,.591275155544281,0],[0,0,0,1],[-1.371374249458313,.2415306717157364,-3.3165879249572754]],[[-.0006214655586518347,-.5115645527839661,-.8592445850372314,0],[.9988242983818054,.04133221507072449,-.02533019334077835,0],[.048472512513399124,-.8582501411437988,.5109374523162842,0],[0,0,0,1],[-1.4153354167938232,.24264568090438843,-3.423703670501709]],[[-.03882765397429466,-.38349711894989014,-.9227254986763,0],[.9991123676300049,.00019617669750005007,-.042123496532440186,0],[.01633525639772415,-.9235420823097229,.383149117231369,0],[0,0,0,1],[-1.4719982147216797,.2452160120010376,-3.588466167449951]],[[-.06145099923014641,-.293168306350708,-.9540839195251465,0],[.9980790019035339,-.02559400536119938,-.05642019584774971,0],[-.007878214120864868,-.9557182192802429,.29417791962623596,0],[0,0,0,1],[-1.5046136379241943,.24851393699645996,-3.7004623413085938]],[[-.090610571205616,-.1526007205247879,-.9841253757476807,0],[.9947419762611389,-.061228733509778976,-.08209379762411118,0],[-.04772917553782463,-.9863893985748291,.15734632313251495,0],[0,0,0,1],[-1.5481491088867188,.2564370930194855,-3.8710854053497314]],[[-.10662553459405899,-.05691288784146309,-.9926691055297852,0],[.9913729429244995,-.08262427896261215,-.10174919664859772,0],[-.07622773200273514,-.9949543476104736,.06523175537586212,0],[0,0,0,1],[-1.5749878883361816,.2640308439731598,-3.9864120483398438]],[[-.125187486410141,.087214395403862,-.9882923364639282,0],[.9847091436386108,-.11071015149354935,-.13450349867343903,0],[-.12114463746547699,-.9900186657905579,-.07202129065990448,0],[0,0,0,1],[-1.6143382787704468,.2793550193309784,-4.161772727966309]],[[-.13379047811031342,.18232600390911102,-.9740930795669556,0],[.9792688488960266,-.12653091549873352,-.15818481147289276,0],[-.15209409594535828,-.9750626683235168,-.16161754727363586,0],[0,0,0,1],[-1.641337275505066,.2924250662326813,-4.280428886413574]],[[-.1409110128879547,.3212577700614929,-.936449408531189,0],[.9697642922401428,-.14557993412017822,-.19586659967899323,0],[-.1992519199848175,-.9357349872589111,-.29103049635887146,0],[0,0,0,1],[-1.6852600574493408,.31663861870765686,-4.461604595184326]],[[-.14178156852722168,.41012680530548096,-.9009405970573425,0],[.9626311659812927,-.15502046048641205,-.22205835580825806,0],[-.23073631525039673,-.89875727891922,-.3728218078613281,0],[0,0,0,1],[-1.7180869579315186,.3359909653663635,-4.58499813079834]],[[-.13733457028865814,.5357792377471924,-.833114504814148,0],[.9509215354919434,-.16413678228855133,-.2623114585876465,0],[-.27728578448295593,-.8282510042190552,-.4869423806667328,0],[0,0,0,1],[-1.7746682167053223,.36999019980430603,-4.7750654220581055]],[[-.13062143325805664,.6133602857589722,-.7789269685745239,0],[.9425572752952576,-.16680918633937836,-.2894139587879181,0],[-.3074471950531006,-.7719869613647461,-.556338369846344,0],[0,0,0,1],[-1.8183698654174805,.3960127830505371,-4.90584135055542]],[[-.11516373604536057,.7187756299972534,-.6856375932693481,0],[.9293797016143799,-.16572003066539764,-.32983362674713135,0],[-.3507002592086792,-.6752025485038757,-.648930549621582,0],[0,0,0,1],[-1.8945695161819458,.4400709569454193,-5.109565258026123]],[[-.10144857317209244,.7808898687362671,-.6163758635520935,0],[.9202979803085327,-.1616462767124176,-.35626131296157837,0],[-.3778357207775116,-.6033916473388672,-.7022525668144226,0],[0,0,0,1],[-1.9533257484436035,.4727422595024109,-5.251371383666992]],[[-.0761469230055809,.8605702519416809,-.5036075115203857,0],[.9064428210258484,-.15067683160305023,-.394535094499588,0],[-.4154071509838104,-.4865340292453766,-.768584132194519,0],[0,0,0,1],[-2.054643392562866,.5265349745750427,-5.474821090698242]],[[-.056387849152088165,.9041016697883606,-.42358067631721497,0],[.8971759080886841,-.1402609944343567,-.4188104569911957,0],[-.43805909156799316,-.4036422073841095,-.8032292127609253,0],[0,0,0,1],[-2.1315720081329346,.5654512643814087,-5.632033824920654]],[[-.022916389629244804,.9542391300201416,-.29816532135009766,0],[.8834385871887207,-.1202816367149353,-.4528449475765228,0],[-.46798616647720337,-.27378833293914795,-.8402552604675293,0],[0,0,0,1],[-2.2618179321289062,.6281085014343262,-5.8821516036987305]],[[.0016318551497533917,.9772459864616394,-.2121029496192932,0],[.8745068907737732,-.10426700115203857,-.4736729562282562,0],[-.4850103259086609,-.18471252918243408,-.8547784686088562,0],[0,0,0,1],[-2.3588619232177734,.672526478767395,-6.059577465057373]],[[.14097651839256287,.9899704456329346,.009170440025627613,0],[.8445168733596802,-.11541902273893356,-.5229432582855225,0],[-.5166399478912354,.08146730810403824,-.8523181676864624,0],[0,0,0,1],[-2.55639910697937,.6504030823707581,-6.015301704406738]],[[.16769446432590485,.9845967292785645,.049476273357868195,0],[.8551157712936401,-.1203010156750679,-.5042862892150879,0],[-.49056655168533325,.1268739551305771,-.8621180057525635,0],[0,0,0,1],[-2.63372802734375,.6003955602645874,-5.8891730308532715]],[[.19407424330711365,.9740487337112427,.11646546423435211,0],[.8595821261405945,-.11164426803588867,-.4986523687839508,0],[-.4727090001106262,.19688719511032104,-.8589421510696411,0],[0,0,0,1],[-2.752249240875244,.5270881652832031,-5.7187089920043945]],[[.20586585998535156,.9649499654769897,.16276013851165771,0],[.8577824234962463,-.09788944572210312,-.5046057105064392,0],[-.4709867537021637,.24349388480186462,-.8478692173957825,0],[0,0,0,1],[-2.8336172103881836,.4797317087650299,-5.618867874145508]],[[.21918511390686035,.9475504159927368,.23260727524757385,0],[.8503260016441345,-.06861121952533722,-.5217644572257996,0],[-.4784386456012726,.3121550381183624,-.8207653164863586,0],[0,0,0,1],[-2.9596526622772217,.4111217260360718,-5.490917682647705]],[[.22759446501731873,.9332708120346069,.27786028385162354,0],[.844910740852356,-.04741669446229935,-.5328015685081482,0],[-.4840729236602783,.35602980852127075,-.7993223071098328,0],[0,0,0,1],[-3.046292781829834,.36627131700515747,-5.420274257659912]],[[.2399040013551712,.9094223380088806,.33970141410827637,0],[.8417506814002991,-.02053910493850708,-.5394756197929382,0],[-.48363402485847473,.4153662323951721,-.7704343199729919,0],[0,0,0,1],[-3.17830228805542,.29748937487602234,-5.332231521606445]],[[.24772018194198608,.8923037648200989,.3773972988128662,0],[.8434216976165771,-.00693935202434659,-.5372072458267212,0],[-.47673317790031433,.4513821601867676,-.7543073892593384,0],[0,0,0,1],[-3.2671566009521484,.24990208446979523,-5.283784866333008]],[[.2587882876396179,.8649335503578186,.43002161383628845,0],[.8519078493118286,.005460236221551895,-.5236632823944092,0],[-.45528194308280945,.5018566846847534,-.7354306578636169,0],[0,0,0,1],[-3.4012656211853027,.1747608482837677,-5.223576068878174]],[[.2657819390296936,.8452869653701782,.46351903676986694,0],[.8612873554229736,.00778459245339036,-.5080586075782776,0],[-.4330636262893677,.534255862236023,-.7259659767150879,0],[0,0,0,1],[-3.491265296936035,.12155776470899582,-5.190454006195068]],[[.27581191062927246,.8127260804176331,.5132290720939636,0],[.8796042203903198,.001893613487482071,-.4757024347782135,0],[-.38758763670921326,.5826428532600403,-.7143550515174866,0],[0,0,0,1],[-3.6276865005493164,.03619949147105217,-5.150312423706055]],[[.28233951330184937,.788023829460144,.5470857620239258,0],[.8933497071266174,-.008158179000020027,-.4492879807949066,0],[-.3495864272117615,.6155906915664673,-.70628422498703,0],[0,0,0,1],[-3.720113754272461,-.02486855536699295,-5.129866600036621]],[[.29098328948020935,.7461619973182678,.5988079905509949,0],[.9125205278396606,-.028396284207701683,-.4080439805984497,0],[-.2874630093574524,.6651585698127747,-.6891509890556335,0],[0,0,0,1],[-3.8618035316467285,-.12284218519926071,-5.108756065368652]],[[.29462099075317383,.7161961197853088,.632662296295166,0],[.9240022301673889,-.04462704807519913,-.3797740638256073,0],[-.24375887215137482,.6964707374572754,-.6749148964881897,0],[0,0,0,1],[-3.958333730697632,-.19220685958862305,-5.102981090545654]],[[.29722270369529724,.6674234867095947,.6827917098999023,0],[.9386130571365356,-.07308764010667801,-.33714044094085693,0],[-.1751118153333664,.741083025932312,-.6481757164001465,0],[0,0,0,1],[-4.106930732727051,-.30289044976234436,-5.107100963592529]],[[.2969433069229126,.6320627927780151,.715766191482544,0],[.9464361667633057,-.09525974839925766,-.3085193634033203,0],[-.126819908618927,.7690398097038269,-.6264938116073608,0],[0,0,0,1],[-4.208791732788086,-.38124191761016846,-5.119452476501465]],[[.2929799258708954,.5746662020683289,.7641475796699524,0],[.9547773003578186,-.13352715969085693,-.2656516432762146,0],[-.050626564770936966,.8074213266372681,-.587799072265625,0],[0,0,0,1],[-4.36598014831543,-.5055890083312988,-5.154474258422852]],[[.28786659240722656,.5332258343696594,.7954891920089722,0],[.957667350769043,-.16241267323493958,-.23768746852874756,0],[.0024564219638705254,.8302363157272339,-.5574061870574951,0],[0,0,0,1],[-4.473855495452881,-.5930346846580505,-5.18988037109375]],[[.29503580927848816,.4808879494667053,.8256516456604004,0],[.9554848074913025,-.14702098071575165,-.25579988956451416,0],[-.001622973009943962,.8643677234649658,-.5028575658798218,0],[0,0,0,1],[-4.6367692947387695,-.658684253692627,-5.17615270614624]],[[.29798057675361633,.4404153525829315,.8469013571739197,0],[.9545713067054749,-.13852062821388245,-.26382893323898315,0],[.0011189853539690375,.8870435953140259,-.46168431639671326,0],[0,0,0,1],[-4.749917984008789,-.7003023028373718,-5.170075416564941]],[[.3004538118839264,.3749285936355591,.8770154118537903,0],[.9537962079048157,-.11863376945257187,-.2760413587093353,0],[.0005478556267917156,.9194316864013672,-.39324942231178284,0],[0,0,0,1],[-4.923325538635254,-.7510167360305786,-5.170841217041016]],[[.3009135127067566,.3273348808288574,.8957136273384094,0],[.9536513686180115,-.10297498852014542,-.2827458083629608,0],[-.00031645994749851525,.9392805695533752,-.34314990043640137,0],[0,0,0,1],[-5.042399883270264,-.7799007296562195,-5.179991245269775]],[[.2991332709789276,.24875034391880035,.9212179780006409,0],[.9542112946510315,-.07821586728096008,-.2887265980243683,0],[.0002330273564439267,.9654043316841125,-.26075735688209534,0],[0,0,0,1],[-5.227746963500977,-.8180004358291626,-5.20782470703125]],[[.2967356741428375,.192195326089859,.9354190826416016,0],[.954959511756897,-.05921592563390732,-.2907675802707672,0],[-.0004924604436382651,.9795684814453125,-.20111024379730225,0],[0,0,0,1],[-5.3552703857421875,-.8387094736099243,-5.237541198730469]],[[.2905837297439575,.09974578768014908,.9516364336013794,0],[.9568495750427246,-.030431978404521942,-.28898584842681885,0],[.00013505843526218086,.9945474863052368,-.10428475588560104,0],[0,0,0,1],[-5.553996562957764,-.8662134408950806,-5.30062198638916]],[[.28531956672668457,.03423461690545082,.9578208327293396,0],[.9584324359893799,-.009963758289813995,-.28514564037323,0],[-.00021835621737409383,.9993641376495361,-.035654421895742416,0],[0,0,0,1],[-5.690277099609375,-.8815948367118835,-5.357207298278809]],[[.29009532928466797,-.02633681893348694,.9566352963447571,0],[.9567530751228333,.0305838193744421,-.28928905725479126,0],[-.02163860760629177,.9991851449012756,.034070055931806564,0],[0,0,0,1],[-5.85795259475708,-.8819953799247742,-5.435900688171387]],[[.3298126459121704,.003362497314810753,.9440404176712036,0],[.9438701868057251,.018144605681300163,-.32981783151626587,0],[-.0182382520288229,.9998297095298767,.0028105592355132103,0],[0,0,0,1],[-5.891929626464844,-.9012086987495422,-5.431890964508057]],[[.3862605690956116,.010308564640581608,.9223321080207825,0],[.922269880771637,-.020432153716683388,-.3860061466693878,0],[.014866062439978123,.9997380971908569,-.017399415373802185,0],[0,0,0,1],[-5.973147869110107,-.945074200630188,-5.430393695831299]],[[.4067472219467163,-.02715839259326458,.9131369590759277,0],[.9128918051719666,-.025585297495126724,-.4073989987373352,0],[.034427180886268616,.9993036389350891,.01438592467457056,0],[0,0,0,1],[-6.054384231567383,-.947388231754303,-5.41763973236084]],[[.405383437871933,-.03461220860481262,.9134912490844727,0],[.913942277431488,-.0057898517698049545,-.4058029353618622,0],[.019334714859724045,.9993840456008911,.029286449775099754,0],[0,0,0,1],[-6.122401237487793,-.9265530705451965,-5.3822174072265625]],[[.40431544184684753,-.0382780022919178,.9138182401657104,0],[.9145817756652832,.007833157666027546,-.40432512760162354,0],[.008318675681948662,.9992364048957825,.03817543014883995,0],[0,0,0,1],[-6.165785312652588,-.912001371383667,-5.371150493621826]],[[.40562042593955994,-.03861192986369133,.9132257103919983,0],[.9140341281890869,.0211823508143425,-.40508389472961426,0],[-.003703195368871093,.9990297555923462,.04388461634516716,0],[0,0,0,1],[-6.222599506378174,-.8960906267166138,-5.366024971008301]],[[.41108790040016174,-.036800604313611984,.9108526110649109,0],[.9115955233573914,.0159397441893816,-.41077920794487,0],[.0005981666035950184,.9991955161094666,.04009990021586418,0],[0,0,0,1],[-6.255212306976318,-.898867666721344,-5.366550922393799]],[[.41720035672187805,-.02278672158718109,.9085288047790527,0],[.9088143706321716,.011068862862884998,-.41705384850502014,0],[-.000553090707398951,.9996790885925293,.025326833128929138,0],[0,0,0,1],[-6.288160800933838,-.9017764925956726,-5.374342441558838]],[[.42225509881973267,-.009781436994671822,.9064242839813232,0],[.9064767956733704,.003800590056926012,-.4222385585308075,0],[.0006851527723483741,.9999449253082275,.01047146413475275,0],[0,0,0,1],[-6.304016590118408,-.908226728439331,-5.386384010314941]],[[.42828497290611267,.008043833076953888,.9036079049110413,0],[.9036399126052856,-.006725302431732416,-.42824026942253113,0],[.002632342977449298,.9999450445175171,-.010149074718356133,0],[0,0,0,1],[-6.321013450622559,-.9192492961883545,-5.401115894317627]],[[.428702712059021,.0037091076374053955,.9034379720687866,0],[.9034426808357239,-.00430121598765254,-.42868730425834656,0],[.0022958344779908657,.9999838471412659,-.005194908939301968,0],[0,0,0,1],[-6.339016914367676,-.9185181260108948,-5.397961139678955]],[[.42883017659187317,-.004318851046264172,.9033747911453247,0],[.9033851027488708,.0023397053591907024,-.428823858499527,0],[-.00026160437846556306,.9999879598617554,.0049049220979213715,0],[0,0,0,1],[-6.364898204803467,-.9109708666801453,-5.400257587432861]],[[.43189507722854614,-.0027560743037611246,.9019196629524231,0],[.9019238352775574,.0015082665486261249,-.4318924844264984,0],[-.00017000742082018405,.9999950528144836,.003137181978672743,0],[0,0,0,1],[-6.371397018432617,-.9085609912872314,-5.396785736083984]],[[.43447932600975037,-.0014095691731199622,.9006807208061218,0],[.9006817936897278,.0007769344374537468,-.43447864055633545,0],[-8734218863537535e-20,.9999986886978149,.0016071352874860168,0],[0,0,0,1],[-6.376734256744385,-.9076434969902039,-5.3937788009643555]],[[.4348851442337036,-.000902497093193233,.9004854559898376,0],[.9004859328269958,.0004978858632966876,-.43488484621047974,0],[-5585668986896053e-20,.999999463558197,.0010292091174051166,0],[0,0,0,1],[-6.376744270324707,-.9084400534629822,-5.39264440536499]],[[.4349011182785034,-.0003383440198376775,.9004781246185303,0],[.900478184223175,.000298190803732723,-.43490102887153625,0],[-.00012136813893448561,.9999998807907104,.00043435493716970086,0],[0,0,0,1],[-6.3755669593811035,-.9089334607124329,-5.391663551330566]],[[.4349168837070465,11044505299651064e-21,.9004706144332886,0],[.9004705548286438,.00027054993552155793,-.4349168837070465,0],[-.00024842569837346673,.9999999403953552,.00010772148380056024,0],[0,0,0,1],[-6.37486457824707,-.9090334177017212,-5.39129114151001]],[[.4349328875541687,-16994254110613838e-21,.9004628658294678,0],[.9004628658294678,.00018809606262948364,-.4349328875541687,0],[-.00016198215598706156,1,971118570305407e-19,0],[0,0,0,1],[-6.37489128112793,-.9091578125953674,-5.390970230102539]],[[.4349488914012909,-45035838411422446e-21,.900455117225647,0],[.900455117225647,.00010564339754637331,-.4349488914012909,0],[-7553885370725766e-20,1,8650223026052117e-20,0],[0,0,0,1],[-6.374917984008789,-.9092994928359985,-5.390847682952881]],[[.43496468663215637,-8468806481687352e-20,.9004474878311157,0],[.9004474878311157,15879950296948664e-21,-.43496468663215637,0],[22537253244081512e-21,1,831643701530993e-19,0],[0,0,0,1],[-6.3749566078186035,-.9094567894935608,-5.390741348266602]],[[.4349806606769562,245272894972004e-19,.9004397988319397,0],[.9004397988319397,-.00014582584844902158,-.4349806606769562,0],[.00012063849862897769,1,-8551677456125617e-20,0],[0,0,0,1],[-6.37449312210083,-.9099518656730652,-5.390905380249023]],[[.43499666452407837,-.0001835935254348442,.9004320502281189,0],[.9004320502281189,.00019837761647067964,-.434996634721756,0],[-9876300464384258e-20,.9999999403953552,.0002516070962883532,0],[0,0,0,1],[-6.374545574188232,-.9089077115058899,-5.39085578918457]],[[.43501266837120056,-.00012718407378997654,.9004243016242981,0],[.9004243612289429,.00012084264744771644,-.4350126385688782,0],[-53482985094888136e-21,1,.0001670877099968493,0],[0,0,0,1],[-6.374295234680176,-.9089999198913574,-5.390772819519043]],[[.43502843379974365,-7066938997013494e-20,.9004167318344116,0],[.9004167318344116,43255146010778844e-21,-.43502843379974365,0],[-820446166471811e-20,1,8244911441579461e-20,0],[0,0,0,1],[-6.374109745025635,-.909092128276825,-5.390725135803223]],[[.43504443764686584,-5667510413331911e-20,.9004089832305908,0],[.9004089832305908,33308380807284266e-21,-.43504443764686584,0],[-5334976776794065e-21,1,6552139529958367e-20,0],[0,0,0,1],[-6.374051570892334,-.9091166853904724,-5.390677452087402]],[[.43506041169166565,-42573705286486074e-21,.90040123462677,0],[.90040123462677,23309525204240344e-21,-.43506041169166565,0],[-246579224949528e-20,1,4847447053180076e-20,0],[0,0,0,1],[-6.373993396759033,-.9091413617134094,-5.390664577484131]],[[.43507641553878784,-2857986510207411e-20,.900393545627594,0],[.900393545627594,13362307072384283e-21,-.43507641553878784,0],[4.030905813579011e-7,1,31546751415589824e-21,0],[0,0,0,1],[-6.373963356018066,-.9091659784317017,-5.390652179718018]],[[.4350922107696533,-14478914636129048e-21,.9003859162330627,0],[.9003859162330627,33629917197686154e-22,-.4350922107696533,0],[32716723126213765e-22,1,14499822100333404e-21,0],[0,0,0,1],[-6.373932838439941,-.9091906547546387,-5.390639305114746]]],talisman.dice_animation_2=[[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[0,2.1734237520831812e-7,-.29082202911376953]],[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[0,2.3183186215192109e-7,-.49799299240112305]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.4632134909552406e-7,-.8286471366882324]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.6081085024998174e-7,-1.0623269081115723]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.753003514044394e-7,-1.4326772689819336]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.897898241371877e-7,-1.6927766799926758]],[[.3245978355407715,-.9448629021644592,-.04324691742658615,0],[.9446356892585754,.3261594772338867,-.03582495078444481,0],[.04795506224036217,-.029223881661891937,.9984219074249268,0],[0,0,0,1],[-.02620956115424633,3.0427932529164536e-7,-2.05448055267334]],[[.2849717438220978,-.9480326771736145,-.14151033759117126,0],[.9470743536949158,.3012409508228302,-.11092352122068405,0],[.14778782427310944,-.10241074115037918,.9837026000022888,0],[0,0,0,1],[-.08284361660480499,-.006404271814972162,-2.2327823638916016]],[[.1953030228614807,-.8967787623405457,-.3970448076725006,0],[.9675408005714417,.24238155782222748,-.07152589410543442,0],[.16037924587726593,-.3701878488063812,.9150078892707825,0],[0,0,0,1],[-.18980704247951508,.01798930950462818,-2.369762897491455]],[[.17082732915878296,-.842409074306488,-.5110430121421814,0],[.980901837348938,.19435842335224152,.007505308371037245,0],[.09300298243761063,-.5025651454925537,.8595223426818848,0],[0,0,0,1],[-.29242807626724243,.040663689374923706,-2.413069725036621]],[[.11016947031021118,-.762501060962677,-.6375381350517273,0],[.9894558191299438,.14481791853904724,-.0022210273891687393,0],[.09402048587799072,-.6305711269378662,.7704156041145325,0],[0,0,0,1],[-.47351306676864624,.09288191795349121,-2.4309444427490234]],[[.07537447661161423,-.6988643407821655,-.7112716436386108,0],[.9934312701225281,.1142190471291542,-.006951286923140287,0],[.08609877526760101,-.7060755491256714,.7028828859329224,0],[0,0,0,1],[-.5959314107894897,.12528204917907715,-2.4550390243530273]],[[.027876470237970352,-.5908551812171936,-.8062958717346191,0],[.9974115490913391,.06992417573928833,-.016756566241383553,0],[.06628028303384781,-.8037416934967041,.5912750363349915,0],[0,0,0,1],[-.7805187702178955,.17160654067993164,-2.512845993041992]],[[-.0006217036861926317,-.511565089225769,-.8592442870140076,0],[.9988242983818054,.041332777589559555,-.025330837815999985,0],[.04847332462668419,-.858249843120575,.5109379291534424,0],[0,0,0,1],[-.9037708044052124,.20131346583366394,-2.56545352935791]],[[-.03882753476500511,-.3834977149963379,-.922725260257721,0],[.9991123676300049,.00019716162933036685,-.042123787105083466,0],[.01633630134165287,-.923541784286499,.383149653673172,0],[0,0,0,1],[-1.0885010957717896,.2450198382139206,-2.664924144744873]],[[-.06145088002085686,-.293168306350708,-.9540839195251465,0],[.9980790019035339,-.025593971833586693,-.056420084089040756,0],[-.007878216914832592,-.9557182192802429,.29417791962623596,0],[0,0,0,1],[-1.2114453315734863,.2741079032421112,-2.744743824005127]],[[-.09061141312122345,-.15260569751262665,-.9841245412826538,0],[.9947420954704285,-.061225734651088715,-.08209489285945892,0],[-.04772559925913811,-.9863888025283813,.1573510617017746,0],[0,0,0,1],[-1.3955483436584473,.31766584515571594,-2.8846960067749023]],[[-.10662529617547989,-.05691290646791458,-.9926691055297852,0],[.9913730025291443,-.08262427151203156,-.10174895823001862,0],[-.07622773200273514,-.9949543476104736,.06523175537586212,0],[0,0,0,1],[-1.5180749893188477,.34665513038635254,-2.991457462310791]],[[-.1251872330904007,.0872161015868187,-.9882922172546387,0],[.9847089648246765,-.11071152985095978,-.1345035582780838,0],[-.12114621698856354,-.9900183081626892,-.07202281057834625,0],[0,0,0,1],[-1.7015527486801147,.39006516337394714,-3.1717538833618164]],[[-.13379071652889252,.18232578039169312,-.9740930795669556,0],[.9792688488960266,-.126530721783638,-.1581849753856659,0],[-.15209390223026276,-.9750627279281616,-.16161732375621796,0],[0,0,0,1],[-1.823663353919983,.4189560115337372,-3.305366039276123]],[[-.14091068506240845,.32125747203826904,-.9364495873451233,0],[.9697643518447876,-.14557993412017822,-.1958661675453186,0],[-.19925174117088318,-.9357350468635559,-.29103028774261475,0],[0,0,0,1],[-2.0065178871154785,.46221861243247986,-3.525869607925415]],[[-.14178167283535004,.41012707352638245,-.900940477848053,0],[.962631106376648,-.15502052009105682,-.22205857932567596,0],[-.23073649406433105,-.8987571597099304,-.37282198667526245,0],[0,0,0,1],[-2.128213882446289,.4910113215446472,-3.6862409114837646]],[[-.13733457028865814,.5357792377471924,-.833114504814148,0],[.9509215354919434,-.16413678228855133,-.2623114585876465,0],[-.27728578448295593,-.8282510042190552,-.4869423806667328,0],[0,0,0,1],[-2.3104474544525146,.5341269373893738,-3.946814775466919]],[[-.13062165677547455,.6133607029914856,-.7789265513420105,0],[.9425572156906128,-.1668091118335724,-.28941434621810913,0],[-.3074474334716797,-.7719866037368774,-.5563386678695679,0],[0,0,0,1],[-2.431730270385742,.5628218650817871,-4.133854389190674]],[[-.1151634156703949,.7187755107879639,-.6856377720832825,0],[.9293798208236694,-.1657201051712036,-.3298332095146179,0],[-.3506999909877777,-.6752026081085205,-.6489306092262268,0],[0,0,0,1],[-2.613345146179199,.6057910919189453,-4.434362411499023]],[[-.10144856572151184,.780890166759491,-.6163754463195801,0],[.9202978610992432,-.1616462767124176,-.35626158118247986,0],[-.3778359591960907,-.6033912301063538,-.7022528052330017,0],[0,0,0,1],[-2.73421573638916,.6343885660171509,-4.647979736328125]],[[-.0761469230055809,.8605701327323914,-.5036076903343201,0],[.9064428210258484,-.150676891207695,-.39453500509262085,0],[-.41540706157684326,-.4865342080593109,-.7685840129852295,0],[0,0,0,1],[-2.9152135848999023,.6772118210792542,-4.988286972045898]],[[-.05638795718550682,.9041016697883606,-.4235806167125702,0],[.8971759080886841,-.14026087522506714,-.41881051659584045,0],[-.43805909156799316,-.4036421775817871,-.8032292723655701,0],[0,0,0,1],[-3.0356736183166504,.7057121992111206,-5.228391647338867]],[[-.022916387766599655,.9542391300201416,-.2981652319431305,0],[.8834385275840759,-.1202816590666771,-.45284515619277954,0],[-.4679863750934601,-.2737882435321808,-.8402552008628845,0],[0,0,0,1],[-3.2160568237304688,.7483900785446167,-5.608363151550293]],[[.0016321678413078189,.9772459864616394,-.21210284531116486,0],[.8745068907737732,-.10426721721887589,-.47367292642593384,0],[-.4850103259086609,-.18471229076385498,-.854778528213501,0],[0,0,0,1],[-3.3361079692840576,.7767935991287231,-5.8748650550842285]],[[.14097660779953003,.9899704456329346,.009170635603368282,0],[.8445168733596802,-.11541900783777237,-.5229433178901672,0],[-.5166399478912354,.08146753162145615,-.8523181080818176,0],[0,0,0,1],[-3.5463695526123047,.765822172164917,-6.096768856048584]],[[.16769444942474365,.9845967292785645,.04947627708315849,0],[.8551156520843506,-.12030096352100372,-.5042864680290222,0],[-.49056676030158997,.12687398493289948,-.8621178865432739,0],[0,0,0,1],[-3.6183247566223145,.7206966280937195,-6.01604700088501]],[[.19407442212104797,.9740487337112427,.11646559089422226,0],[.8595819473266602,-.11164430528879166,-.4986526072025299,0],[-.47270920872688293,.19688743352890015,-.8589419722557068,0],[0,0,0,1],[-3.7262980937957764,.6387326121330261,-5.915596008300781]],[[.20586594939231873,.964949905872345,.16276006400585175,0],[.8577823638916016,-.09788954257965088,-.5046058297157288,0],[-.47098684310913086,.24349386990070343,-.8478691577911377,0],[0,0,0,1],[-3.798567295074463,.5776212811470032,-5.862361907958984]],[[.21918509900569916,.947550356388092,.23260749876499176,0],[.8503260016441345,-.06861107796430588,-.5217645168304443,0],[-.47843870520591736,.31215521693229675,-.8207651972770691,0],[0,0,0,1],[-3.907202959060669,.4797329306602478,-5.803072929382324]],[[.2275947779417038,.9332707524299622,.2778603434562683,0],[.844910740852356,-.047416944056749344,-.5328015685081482,0],[-.48407283425331116,.35603004693984985,-.7993223071098328,0],[0,0,0,1],[-3.9795637130737305,.41368812322616577,-5.776304244995117]],[[.23990410566329956,.9094222784042358,.3397015929222107,0],[.8417506814002991,-.02053913287818432,-.5394755601882935,0],[-.48363393545150757,.41536644101142883,-.7704342603683472,0],[0,0,0,1],[-4.087724685668945,.3180284798145294,-5.747597694396973]],[[.24772058427333832,.8923036456108093,.3773972690105438,0],[.8434215784072876,-.006939649116247892,-.5372074246406555,0],[-.47673317790031433,.4513823390007019,-.7543072700500488,0],[0,0,0,1],[-4.159460544586182,.2568415701389313,-5.735167026519775]],[[.2587883770465851,.864933431148529,.430021733045578,0],[.8519077897071838,.005460286978632212,-.523663341999054,0],[-.4552820026874542,.5018568634986877,-.7354304790496826,0],[0,0,0,1],[-4.266199111938477,.16930055618286133,-5.725432872772217]],[[.2657821476459503,.8452867269515991,.4635193347930908,0],[.8612872958183289,.007784602697938681,-.5080586671829224,0],[-.4330635666847229,.5342562198638916,-.7259657382965088,0],[0,0,0,1],[-4.336552143096924,.1137731671333313,-5.724709987640381]],[[.27581170201301575,.8127261996269226,.5132290124893188,0],[.8796043395996094,.0018936607521027327,-.4757022559642792,0],[-.3875875771045685,.582642674446106,-.7143552303314209,0],[0,0,0,1],[-4.440412521362305,.03430582582950592,-5.732954978942871]],[[.28233960270881653,.788023829460144,.547085702419281,0],[.8933497071266174,-.008158237673342228,-.44928810000419617,0],[-.34958648681640625,.6155906915664673,-.70628422498703,0],[0,0,0,1],[-4.5081377029418945,-.016710301861166954,-5.745457172393799]],[[.29098325967788696,.7461621761322021,.5988077521324158,0],[.9125205278396606,-.02839634381234646,-.4080440104007721,0],[-.28746306896209717,.6651583909988403,-.6891511678695679,0],[0,0,0,1],[-4.607965469360352,-.09444597363471985,-5.773914813995361]],[[.29462119936943054,.7161961197853088,.6326621770858765,0],[.9240021109580994,-.044627200812101364,-.3797742426395416,0],[-.2437589019536972,.6964707374572754,-.6749148964881897,0],[0,0,0,1],[-4.674530029296875,-.1475796103477478,-5.79945182800293]],[[.29722291231155396,.6674233078956604,.6827917695045471,0],[.9386129975318909,-.0730876624584198,-.33714067935943604,0],[-.17511188983917236,.7410832047462463,-.6481755375862122,0],[0,0,0,1],[-4.774354457855225,-.2298026978969574,-5.848184108734131]],[[.29694342613220215,.6320626139640808,.7157663106918335,0],[.9464361071586609,-.09525968879461288,-.30851954221725464,0],[-.12681999802589417,.7690399289131165,-.6264936327934265,0],[0,0,0,1],[-4.840854644775391,-.2859821617603302,-5.888492584228516]],[[.29297980666160583,.5746662616729736,.7641475796699524,0],[.9547773599624634,-.1335270255804062,-.2656515836715698,0],[-.050626643002033234,.8074213266372681,-.587799072265625,0],[0,0,0,1],[-4.940646648406982,-.3720618486404419,-5.96189546585083]],[[.28786683082580566,.5332258343696594,.7954891324043274,0],[.9576672911643982,-.16241280734539032,-.23768766224384308,0],[.0024564205668866634,.8302363157272339,-.5574061870574951,0],[0,0,0,1],[-5.007081508636475,-.4306219220161438,-6.020116806030273]],[[.29503557085990906,.4808880090713501,.8256517052650452,0],[.9554848670959473,-.1470208317041397,-.25579971075057983,0],[-.0016230079345405102,.8643677234649658,-.5028575658798218,0],[0,0,0,1],[-5.11765718460083,-.5116633772850037,-6.040520668029785]],[[.29798057675361633,.4404153525829315,.8469013571739197,0],[.9545713067054749,-.13852064311504364,-.26382893323898315,0],[.0011190148070454597,.8870435953140259,-.46168431639671326,0],[0,0,0,1],[-5.190333366394043,-.561781644821167,-6.057118892669678]],[[.3004538118839264,.3749285638332367,.8770154118537903,0],[.9537962079048157,-.11863379180431366,-.27604132890701294,0],[.0005478784441947937,.9194316864013672,-.39324942231178284,0],[0,0,0,1],[-5.298254013061523,-.6323829889297485,-6.090272903442383]],[[.3009135127067566,.32733485102653503,.8957136273384094,0],[.9536513686180115,-.10297500342130661,-.2827458083629608,0],[-.0003164413501508534,.9392805695533752,-.34314990043640137,0],[0,0,0,1],[-5.369734764099121,-.6769257187843323,-6.119271755218506]],[[.2991332709789276,.24875032901763916,.9212179780006409,0],[.9542112946510315,-.07821588963270187,-.2887265682220459,0],[.00023305117792915553,.9654043316841125,-.26075735688209534,0],[0,0,0,1],[-5.476497173309326,-.7397845387458801,-6.173229217529297]],[[.2967356741428375,.192195326089859,.9354190826416016,0],[.954959511756897,-.05921592563390732,-.2907675802707672,0],[-.0004924627719447017,.9795684814453125,-.20111024379730225,0],[0,0,0,1],[-5.547465801239014,-.779493510723114,-6.217109680175781]],[[.2905837297439575,.09974579513072968,.9516364336013794,0],[.9568495750427246,-.030431970953941345,-.28898584842681885,0],[.00013505038805305958,.9945474863052368,-.10428475588560104,0],[0,0,0,1],[-5.65374231338501,-.835781455039978,-6.295169353485107]],[[.2853196859359741,.03423461318016052,.9578207731246948,0],[.9584323763847351,-.009963765740394592,-.28514575958251953,0],[-.00021835224470123649,.9993641376495361,-.035654421895742416,0],[0,0,0,1],[-5.724511623382568,-.8716310858726501,-6.356571197509766]],[[.29009532928466797,-.02633681893348694,.9566352963447571,0],[.9567530751228333,.0305838193744421,-.28928905725479126,0],[-.02163860760629177,.9991851449012756,.034070055931806564,0],[0,0,0,1],[-5.831615924835205,-.9125791788101196,-6.435085773468018]],[[.32981255650520325,.00336249521933496,.9440404772758484,0],[.9438702464103699,.018144605681300163,-.3298177123069763,0],[-.0182382520288229,.9998297095298767,.0028105592355132103,0],[0,0,0,1],[-5.895292282104492,-.9193533062934875,-6.431720733642578]],[[.3862605690956116,.010308565571904182,.9223321080207825,0],[.922269880771637,-.02043215185403824,-.3860061466693878,0],[.014866059646010399,.9997380971908569,-.017399415373802185,0],[0,0,0,1],[-5.983456611633301,-.924642026424408,-6.430131912231445]],[[.4067470133304596,-.027158383280038834,.9131370782852173,0],[.9128919243812561,-.025585297495126724,-.4073987603187561,0],[.03442717343568802,.9993036389350891,.01438592467457056,0],[0,0,0,1],[-6.027225971221924,-.9218029379844666,-6.416943550109863]],[[.40538352727890015,-.03461220860481262,.9134911894798279,0],[.9139422178268433,-.005789844319224358,-.40580305457115173,0],[.019334711134433746,.9993840456008911,.029286449775099754,0],[0,0,0,1],[-6.087789058685303,-.9207631945610046,-6.381601333618164]],[[.40431544184684753,-.0382780022919178,.9138182401657104,0],[.9145817756652832,.00783315859735012,-.40432512760162354,0],[.008318674750626087,.9992364048957825,.03817543014883995,0],[0,0,0,1],[-6.127507209777832,-.919834554195404,-6.370387077331543]],[[.40562042593955994,-.03861192986369133,.9132257103919983,0],[.9140341281890869,.0211823508143425,-.40508389472961426,0],[-.003703195136040449,.9990297555923462,.04388461634516716,0],[0,0,0,1],[-6.183987617492676,-.9172729849815369,-6.365054607391357]],[[.41108790040016174,-.03680060803890228,.9108526110649109,0],[.9115955233573914,.0159397404640913,-.41077920794487,0],[.0005981705617159605,.9991955161094666,.04009990021586418,0],[0,0,0,1],[-6.218411922454834,-.9148073792457581,-6.36574649810791]],[[.41720035672187805,-.02278672158718109,.9085288047790527,0],[.9088143706321716,.011068863794207573,-.41705384850502014,0],[-.0005530915223062038,.9996790885925293,.025326833128929138,0],[0,0,0,1],[-6.265374183654785,-.9128453731536865,-6.374021530151367]],[[.4222552180290222,-.009781436994671822,.9064242243766785,0],[.9064767360687256,.003800589358434081,-.42223864793777466,0],[.0006851547514088452,.9999449253082275,.01047146413475275,0],[0,0,0,1],[-6.2942352294921875,-.9120272994041443,-6.386329174041748]],[[.4282850921154022,.008043833076953888,.9036078453063965,0],[.9036398530006409,-.006725301966071129,-.4282403886318207,0],[.0026323413476347923,.9999450445175171,-.010149074718356133,0],[0,0,0,1],[-6.329057216644287,-.9125239849090576,-6.401061058044434]],[[.42870283126831055,.003709107171744108,.9034379720687866,0],[.9034426212310791,-.00430121598765254,-.4286873936653137,0],[.002295834245160222,.9999838471412659,-.005194908939301968,0],[0,0,0,1],[-6.342726230621338,-.914216935634613,-6.397944927215576]],[[.4288300573825836,-.004318851511925459,.9033748507499695,0],[.9033851623535156,.0023397046606987715,-.4288237392902374,0],[-.00026160417473874986,.9999879598617554,.0049049220979213715,0],[0,0,0,1],[-6.360579490661621,-.9133105874061584,-6.400245666503906]],[[.43189486861228943,-.002756074769422412,.9019197225570679,0],[.9019239544868469,.001508265733718872,-.4318922758102417,0],[-.00017000736261252314,.9999950528144836,.003137181978672743,0],[0,0,0,1],[-6.368640899658203,-.9100692868232727,-6.396780967712402]],[[.4344792068004608,-.0014095691731199622,.9006807804107666,0],[.9006818532943726,.0007769344374537468,-.4344785213470459,0],[-8734233415452763e-20,.9999986886978149,.0016071352874860168,0],[0,0,0,1],[-6.375324726104736,-.9084204435348511,-6.393777370452881]],[[.4348851442337036,-.0009024970349855721,.9004854559898376,0],[.9004859328269958,.0004978859797120094,-.43488484621047974,0],[-5585678809438832e-20,.999999463558197,.0010292091174051166,0],[0,0,0,1],[-6.3758416175842285,-.908937931060791,-6.392643928527832]],[[.4349132478237152,-.00033834128407761455,.9004722833633423,0],[.9004723429679871,.0002981926954817027,-.43491315841674805,0],[-.00012136518489569426,.9999998807907104,.00043435493716970086,0],[0,0,0,1],[-6.375228404998779,-.9092316627502441,-6.391663551330566]],[[.4349415898323059,11051265573769342e-21,.9004586935043335,0],[.9004586338996887,.00027054824749939144,-.4349415600299835,0],[-.000248424184974283,.9999999403953552,.00010772148380056024,0],[0,0,0,1],[-6.374875545501709,-.9093039631843567,-6.39129114151001]],[[.43496960401535034,-16987223716569133e-21,.9004451036453247,0],[.9004451036453247,.0001880954223452136,-.43496960401535034,0],[-.0001619806862436235,1,971118570305407e-19,0],[0,0,0,1],[-6.374874114990234,-.9093459248542786,-6.390970230102539]],[[.4349976181983948,-4503101445152424e-20,.9004315733909607,0],[.9004315733909607,.00010564398689894006,-.4349976181983948,0],[-7553680188721046e-20,1,8650223026052117e-20,0],[0,0,0,1],[-6.374873161315918,-.9094051122665405,-6.390847682952881]],[[.4350259602069855,-846882103360258e-19,.9004179239273071,0],[.9004179239273071,15883173546171747e-21,-.4350259602069855,0],[22540076315635815e-21,1,831643701530993e-19,0],[0,0,0,1],[-6.374871730804443,-.909472644329071,-6.390741348266602]],[[.4350539743900299,-.0001098685825127177,.9004043936729431,0],[.9004043340682983,-.0002302287903148681,-.4350539743900299,0],[.0002550977806095034,.9999999403953552,-1235804234056559e-21,0],[0,0,0,1],[-6.374517917633057,-.9098060131072998,-6.390905380249023]],[[.43505945801734924,-.0002956368261948228,.9004016518592834,0],[.9004017114639282,.00012814033834729344,-.43505942821502686,0],[13241813576314598e-21,.9999999403953552,.00032194057712331414,0],[0,0,0,1],[-6.374361991882324,-.9091060757637024,-6.39085578918457]],[[.4350649416446686,-.0002166855992982164,.9003990292549133,0],[.9003990888595581,6466109334724024e-20,-.4350649416446686,0],[3605151505325921e-20,1,.00022323528537526727,0],[0,0,0,1],[-6.3741679191589355,-.9091207385063171,-6.390772819519043]],[[.4350703954696655,-.00013773480895906687,.9003964066505432,0],[.9003964066505432,118157151973719e-20,-.4350704252719879,0],[5886045619263314e-20,1,.0001245299936272204,0],[0,0,0,1],[-6.374039173126221,-.9091354012489319,-6.390725135803223]],[[.43507587909698486,-.00010119386570295319,.9003937840461731,0],[.9003937840461731,5291125035000732e-21,-.43507587909698486,0],[3926291537936777e-20,1,9341636905446649e-20,0],[0,0,0,1],[-6.373994827270508,-.9091500043869019,-6.390677452087402]],[[.43508124351501465,-6476019188994542e-20,.9003912210464478,0],[.9003912210464478,945213560044067e-20,-.43508124351501465,0],[19665327272377908e-21,1,6242195377126336e-20,0],[0,0,0,1],[-6.373950958251953,-.9091646671295166,-6.390664577484131]],[[.435086727142334,-28219119485584088e-21,.9003885388374329,0],[.9003885388374329,13560883417085279e-21,-.435086727142334,0],[6.769946736540078e-8,1,3130833283648826e-20,0],[0,0,0,1],[-6.373934745788574,-.9091793298721313,-6.390652179718018]],[[.4350922107696533,-14478913726634346e-21,.9003859162330627,0],[.9003859162330627,33629928566369927e-22,-.4350922107696533,0],[3271670948379324e-21,1,14499822100333404e-21,0],[0,0,0,1],[-6.373918533325195,-.9091939926147461,-6.390639305114746]]],talisman.dice_animation_3=[[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[0,2.1734237520831812e-7,-.29082202911376953]],[[.3437896966934204,-.9390466809272766,2.031605816910087e-8,0],[.9390466809272766,.3437896966934204,-7.43781036760538e-9,0],[0,2.1634768643252755e-8,1,0],[0,0,0,1],[0,2.3183186215192109e-7,-.49799299240112305]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.4632134909552406e-7,-.8286471366882324]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.6081085024998174e-7,-1.0623269081115723]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.753003514044394e-7,-1.4326772689819336]],[[.3437894582748413,-.9390467405319214,-2.5024709415788493e-8,0],[.9390467405319214,.3437894582748413,9.161664316081897e-9,0],[0,-2.6649056295013906e-8,1,0],[0,0,0,1],[0,2.897898241371877e-7,-1.6927766799926758]],[[.3245978355407715,-.9448629021644592,-.04324691742658615,0],[.9446356892585754,.3261594772338867,-.03582495078444481,0],[.04795506224036217,-.029223881661891937,.9984219074249268,0],[0,0,0,1],[-.02620956115424633,3.0427932529164536e-7,-2.05448055267334]],[[.2849717438220978,-.9480326771736145,-.14151033759117126,0],[.9470743536949158,.3012409508228302,-.11092352122068405,0],[.14778782427310944,-.10241074115037918,.9837026000022888,0],[0,0,0,1],[-.08284361660480499,-.006404271814972162,-2.2327823638916016]],[[.1953030228614807,-.8967787623405457,-.3970448076725006,0],[.9675408005714417,.24238155782222748,-.07152589410543442,0],[.16037924587726593,-.3701878488063812,.9150078892707825,0],[0,0,0,1],[-.18980704247951508,.01798930950462818,-2.369762897491455]],[[.17082732915878296,-.842409074306488,-.5110430121421814,0],[.980901837348938,.19435842335224152,.007505308371037245,0],[.09300298243761063,-.5025651454925537,.8595223426818848,0],[0,0,0,1],[-.29242807626724243,.040663689374923706,-2.413069725036621]],[[.11016947031021118,-.762501060962677,-.6375381350517273,0],[.9894558191299438,.14481791853904724,-.0022210273891687393,0],[.09402048587799072,-.6305711269378662,.7704156041145325,0],[0,0,0,1],[-.47351306676864624,.09288191795349121,-2.4309444427490234]],[[.07537447661161423,-.6988643407821655,-.7112716436386108,0],[.9934312701225281,.1142190471291542,-.006951286923140287,0],[.08609877526760101,-.7060755491256714,.7028828859329224,0],[0,0,0,1],[-.5959314107894897,.12528204917907715,-2.4550390243530273]],[[.027876470237970352,-.5908551812171936,-.8062958717346191,0],[.9974115490913391,.06992417573928833,-.016756566241383553,0],[.06628028303384781,-.8037416934967041,.5912750363349915,0],[0,0,0,1],[-.7805187702178955,.17160654067993164,-2.512845993041992]],[[-.0006217036861926317,-.511565089225769,-.8592442870140076,0],[.9988242983818054,.041332777589559555,-.025330837815999985,0],[.04847332462668419,-.858249843120575,.5109379291534424,0],[0,0,0,1],[-.9037708044052124,.20131346583366394,-2.56545352935791]],[[-.03882753476500511,-.3834977149963379,-.922725260257721,0],[.9991123676300049,.00019716162933036685,-.042123787105083466,0],[.01633630134165287,-.923541784286499,.383149653673172,0],[0,0,0,1],[-1.0885010957717896,.2450198382139206,-2.664924144744873]],[[-.06145088002085686,-.293168306350708,-.9540839195251465,0],[.9980790019035339,-.025593971833586693,-.056420084089040756,0],[-.007878216914832592,-.9557182192802429,.29417791962623596,0],[0,0,0,1],[-1.2114453315734863,.2741079032421112,-2.744743824005127]],[[-.09061141312122345,-.15260569751262665,-.9841245412826538,0],[.9947420954704285,-.061225734651088715,-.08209489285945892,0],[-.04772559925913811,-.9863888025283813,.1573510617017746,0],[0,0,0,1],[-1.3955483436584473,.31766584515571594,-2.8846960067749023]],[[-.10662529617547989,-.05691290646791458,-.9926691055297852,0],[.9913730025291443,-.08262427151203156,-.10174895823001862,0],[-.07622773200273514,-.9949543476104736,.06523175537586212,0],[0,0,0,1],[-1.5180749893188477,.34665513038635254,-2.991457462310791]],[[-.1251872330904007,.0872161015868187,-.9882922172546387,0],[.9847089648246765,-.11071152985095978,-.1345035582780838,0],[-.12114621698856354,-.9900183081626892,-.07202281057834625,0],[0,0,0,1],[-1.7015527486801147,.39006516337394714,-3.1717538833618164]],[[-.13379071652889252,.18232578039169312,-.9740930795669556,0],[.9792688488960266,-.126530721783638,-.1581849753856659,0],[-.15209390223026276,-.9750627279281616,-.16161732375621796,0],[0,0,0,1],[-1.823663353919983,.4189560115337372,-3.305366039276123]],[[-.14091068506240845,.32125747203826904,-.9364495873451233,0],[.9697643518447876,-.14557993412017822,-.1958661675453186,0],[-.19925174117088318,-.9357350468635559,-.29103028774261475,0],[0,0,0,1],[-2.0065178871154785,.46221861243247986,-3.525869607925415]],[[-.14178167283535004,.41012707352638245,-.900940477848053,0],[.962631106376648,-.15502052009105682,-.22205857932567596,0],[-.23073649406433105,-.8987571597099304,-.37282198667526245,0],[0,0,0,1],[-2.128213882446289,.4910113215446472,-3.6862409114837646]],[[-.13733457028865814,.5357792377471924,-.833114504814148,0],[.9509215354919434,-.16413678228855133,-.2623114585876465,0],[-.27728578448295593,-.8282510042190552,-.4869423806667328,0],[0,0,0,1],[-2.3104474544525146,.5341269373893738,-3.946814775466919]],[[-.13062165677547455,.6133607029914856,-.7789265513420105,0],[.9425572156906128,-.1668091118335724,-.28941434621810913,0],[-.3074474334716797,-.7719866037368774,-.5563386678695679,0],[0,0,0,1],[-2.431730270385742,.5628218650817871,-4.133854389190674]],[[-.1151634156703949,.7187755107879639,-.6856377720832825,0],[.9293798208236694,-.1657201051712036,-.3298332095146179,0],[-.3506999909877777,-.6752026081085205,-.6489306092262268,0],[0,0,0,1],[-2.613345146179199,.6057910919189453,-4.434362411499023]],[[-.10144856572151184,.780890166759491,-.6163754463195801,0],[.9202978610992432,-.1616462767124176,-.35626158118247986,0],[-.3778359591960907,-.6033912301063538,-.7022528052330017,0],[0,0,0,1],[-2.73421573638916,.6343885660171509,-4.647979736328125]],[[-.0761469230055809,.8605701327323914,-.5036076903343201,0],[.9064428210258484,-.150676891207695,-.39453500509262085,0],[-.41540706157684326,-.4865342080593109,-.7685840129852295,0],[0,0,0,1],[-2.9152135848999023,.6772118210792542,-4.988286972045898]],[[-.05638795718550682,.9041016697883606,-.4235806167125702,0],[.8971759080886841,-.14026087522506714,-.41881051659584045,0],[-.43805909156799316,-.4036421775817871,-.8032292723655701,0],[0,0,0,1],[-3.0356736183166504,.7057121992111206,-5.228391647338867]],[[-.022916387766599655,.9542391300201416,-.2981652319431305,0],[.8834385275840759,-.1202816590666771,-.45284515619277954,0],[-.4679863750934601,-.2737882435321808,-.8402552008628845,0],[0,0,0,1],[-3.2160568237304688,.7483900785446167,-5.608363151550293]],[[.0016321678413078189,.9772459864616394,-.21210284531116486,0],[.8745068907737732,-.10426721721887589,-.47367292642593384,0],[-.4850103259086609,-.18471229076385498,-.854778528213501,0],[0,0,0,1],[-3.3361079692840576,.7767935991287231,-5.8748650550842285]],[[.14097660779953003,.9899704456329346,.009170635603368282,0],[.8445168733596802,-.11541900783777237,-.5229433178901672,0],[-.5166399478912354,.08146753162145615,-.8523181080818176,0],[0,0,0,1],[-3.5463695526123047,.765822172164917,-6.096768856048584]],[[.16769444942474365,.9845967292785645,.04947627708315849,0],[.8551156520843506,-.12030096352100372,-.5042864680290222,0],[-.49056676030158997,.12687398493289948,-.8621178865432739,0],[0,0,0,1],[-3.6183247566223145,.7206966280937195,-6.01604700088501]],[[.19407442212104797,.9740487337112427,.11646559089422226,0],[.8595819473266602,-.11164430528879166,-.4986526072025299,0],[-.47270920872688293,.19688743352890015,-.8589419722557068,0],[0,0,0,1],[-3.7262980937957764,.6387326121330261,-5.915596008300781]],[[.20586594939231873,.964949905872345,.16276006400585175,0],[.8577823638916016,-.09788954257965088,-.5046058297157288,0],[-.47098684310913086,.24349386990070343,-.8478691577911377,0],[0,0,0,1],[-3.798567295074463,.5776212811470032,-5.862361907958984]],[[.21918509900569916,.947550356388092,.23260749876499176,0],[.8503260016441345,-.06861107796430588,-.5217645168304443,0],[-.47843870520591736,.31215521693229675,-.8207651972770691,0],[0,0,0,1],[-3.907202959060669,.4797329306602478,-5.803072929382324]],[[.2275947779417038,.9332707524299622,.2778603434562683,0],[.844910740852356,-.047416944056749344,-.5328015685081482,0],[-.48407283425331116,.35603004693984985,-.7993223071098328,0],[0,0,0,1],[-3.9795637130737305,.41368812322616577,-5.776304244995117]],[[.23990410566329956,.9094222784042358,.3397015929222107,0],[.8417506814002991,-.02053913287818432,-.5394755601882935,0],[-.48363393545150757,.41536644101142883,-.7704342603683472,0],[0,0,0,1],[-4.087724685668945,.3180284798145294,-5.747597694396973]],[[.24772058427333832,.8923036456108093,.3773972690105438,0],[.8434215784072876,-.006939649116247892,-.5372074246406555,0],[-.47673317790031433,.4513823390007019,-.7543072700500488,0],[0,0,0,1],[-4.159460544586182,.2568415701389313,-5.735167026519775]],[[.2587883770465851,.864933431148529,.430021733045578,0],[.8519077897071838,.005460286978632212,-.523663341999054,0],[-.4552820026874542,.5018568634986877,-.7354304790496826,0],[0,0,0,1],[-4.266199111938477,.16930055618286133,-5.725432872772217]],[[.2657821476459503,.8452867269515991,.4635193347930908,0],[.8612872958183289,.007784602697938681,-.5080586671829224,0],[-.4330635666847229,.5342562198638916,-.7259657382965088,0],[0,0,0,1],[-4.336552143096924,.1137731671333313,-5.724709987640381]],[[.27581170201301575,.8127261996269226,.5132290124893188,0],[.8796043395996094,.0018936607521027327,-.4757022559642792,0],[-.3875875771045685,.582642674446106,-.7143552303314209,0],[0,0,0,1],[-4.440412521362305,.03430582582950592,-5.732954978942871]],[[.28233960270881653,.788023829460144,.547085702419281,0],[.8933497071266174,-.008158237673342228,-.44928810000419617,0],[-.34958648681640625,.6155906915664673,-.70628422498703,0],[0,0,0,1],[-4.5081377029418945,-.016710301861166954,-5.745457172393799]],[[.29098325967788696,.7461621761322021,.5988077521324158,0],[.9125205278396606,-.02839634381234646,-.4080440104007721,0],[-.28746306896209717,.6651583909988403,-.6891511678695679,0],[0,0,0,1],[-4.607965469360352,-.09444597363471985,-5.773914813995361]],[[.29462119936943054,.7161961197853088,.6326621770858765,0],[.9240021109580994,-.044627200812101364,-.3797742426395416,0],[-.2437589019536972,.6964707374572754,-.6749148964881897,0],[0,0,0,1],[-4.674530029296875,-.1475796103477478,-5.79945182800293]],[[.29722291231155396,.6674233078956604,.6827917695045471,0],[.9386129975318909,-.0730876624584198,-.33714067935943604,0],[-.17511188983917236,.7410832047462463,-.6481755375862122,0],[0,0,0,1],[-4.774354457855225,-.2298026978969574,-5.848184108734131]],[[.29694342613220215,.6320626139640808,.7157663106918335,0],[.9464361071586609,-.09525968879461288,-.30851954221725464,0],[-.12681999802589417,.7690399289131165,-.6264936327934265,0],[0,0,0,1],[-4.840854644775391,-.2859821617603302,-5.888492584228516]],[[.29297980666160583,.5746662616729736,.7641475796699524,0],[.9547773599624634,-.1335270255804062,-.2656515836715698,0],[-.050626643002033234,.8074213266372681,-.587799072265625,0],[0,0,0,1],[-4.940646648406982,-.3720618486404419,-5.96189546585083]],[[.28786683082580566,.5332258343696594,.7954891324043274,0],[.9576672911643982,-.16241280734539032,-.23768766224384308,0],[.0024564205668866634,.8302363157272339,-.5574061870574951,0],[0,0,0,1],[-5.007081508636475,-.4306219220161438,-6.020116806030273]],[[.29503557085990906,.4808880090713501,.8256517052650452,0],[.9554848670959473,-.1470208317041397,-.25579971075057983,0],[-.0016230079345405102,.8643677234649658,-.5028575658798218,0],[0,0,0,1],[-5.11765718460083,-.5116633772850037,-6.040520668029785]],[[.29798057675361633,.4404153525829315,.8469013571739197,0],[.9545713067054749,-.13852064311504364,-.26382893323898315,0],[.0011190148070454597,.8870435953140259,-.46168431639671326,0],[0,0,0,1],[-5.190333366394043,-.561781644821167,-6.057118892669678]],[[.3004538118839264,.3749285638332367,.8770154118537903,0],[.9537962079048157,-.11863379180431366,-.27604132890701294,0],[.0005478784441947937,.9194316864013672,-.39324942231178284,0],[0,0,0,1],[-5.298254013061523,-.6323829889297485,-6.090272903442383]],[[.3009135127067566,.32733485102653503,.8957136273384094,0],[.9536513686180115,-.10297500342130661,-.2827458083629608,0],[-.0003164413501508534,.9392805695533752,-.34314990043640137,0],[0,0,0,1],[-5.369734764099121,-.6769257187843323,-6.119271755218506]],[[.2991332709789276,.24875032901763916,.9212179780006409,0],[.9542112946510315,-.07821588963270187,-.2887265682220459,0],[.00023305117792915553,.9654043316841125,-.26075735688209534,0],[0,0,0,1],[-5.476497173309326,-.7397845387458801,-6.173229217529297]],[[.2967356741428375,.192195326089859,.9354190826416016,0],[.954959511756897,-.05921592563390732,-.2907675802707672,0],[-.0004924627719447017,.9795684814453125,-.20111024379730225,0],[0,0,0,1],[-5.547465801239014,-.779493510723114,-6.217109680175781]],[[.2905837297439575,.09974579513072968,.9516364336013794,0],[.9568495750427246,-.030431970953941345,-.28898584842681885,0],[.00013505038805305958,.9945474863052368,-.10428475588560104,0],[0,0,0,1],[-5.65374231338501,-.835781455039978,-6.295169353485107]],[[.2853196859359741,.03423461318016052,.9578207731246948,0],[.9584323763847351,-.009963765740394592,-.28514575958251953,0],[-.00021835224470123649,.9993641376495361,-.035654421895742416,0],[0,0,0,1],[-5.724511623382568,-.8716310858726501,-6.356571197509766]],[[.29009532928466797,-.02633681893348694,.9566352963447571,0],[.9567530751228333,.0305838193744421,-.28928905725479126,0],[-.02163860760629177,.9991851449012756,.034070055931806564,0],[0,0,0,1],[-5.831615924835205,-.9125791788101196,-6.435085773468018]],[[.32981255650520325,.00336249521933496,.9440404772758484,0],[.9438702464103699,.018144605681300163,-.3298177123069763,0],[-.0182382520288229,.9998297095298767,.0028105592355132103,0],[0,0,0,1],[-5.895292282104492,-.9193533062934875,-6.431720733642578]],[[.3862605690956116,.010308565571904182,.9223321080207825,0],[.922269880771637,-.02043215185403824,-.3860061466693878,0],[.014866059646010399,.9997380971908569,-.017399415373802185,0],[0,0,0,1],[-5.983456611633301,-.924642026424408,-6.430131912231445]],[[.4067470133304596,-.027158383280038834,.9131370782852173,0],[.9128919243812561,-.025585297495126724,-.4073987603187561,0],[.03442717343568802,.9993036389350891,.01438592467457056,0],[0,0,0,1],[-6.027225971221924,-.9218029379844666,-6.416943550109863]],[[.40538352727890015,-.03461220860481262,.9134911894798279,0],[.9139422178268433,-.005789844319224358,-.40580305457115173,0],[.019334711134433746,.9993840456008911,.029286449775099754,0],[0,0,0,1],[-6.087789058685303,-.9207631945610046,-6.381601333618164]],[[.40431544184684753,-.0382780022919178,.9138182401657104,0],[.9145817756652832,.00783315859735012,-.40432512760162354,0],[.008318674750626087,.9992364048957825,.03817543014883995,0],[0,0,0,1],[-6.127507209777832,-.919834554195404,-6.370387077331543]],[[.40562042593955994,-.03861192986369133,.9132257103919983,0],[.9140341281890869,.0211823508143425,-.40508389472961426,0],[-.003703195136040449,.9990297555923462,.04388461634516716,0],[0,0,0,1],[-6.183987617492676,-.9172729849815369,-6.365054607391357]],[[.41108790040016174,-.03680060803890228,.9108526110649109,0],[.9115955233573914,.0159397404640913,-.41077920794487,0],[.0005981705617159605,.9991955161094666,.04009990021586418,0],[0,0,0,1],[-6.218411922454834,-.9148073792457581,-6.36574649810791]],[[.41720035672187805,-.02278672158718109,.9085288047790527,0],[.9088143706321716,.011068863794207573,-.41705384850502014,0],[-.0005530915223062038,.9996790885925293,.025326833128929138,0],[0,0,0,1],[-6.265374183654785,-.9128453731536865,-6.374021530151367]],[[.4222552180290222,-.009781436994671822,.9064242243766785,0],[.9064767360687256,.003800589358434081,-.42223864793777466,0],[.0006851547514088452,.9999449253082275,.01047146413475275,0],[0,0,0,1],[-6.2942352294921875,-.9120272994041443,-6.386329174041748]],[[.4282850921154022,.008043833076953888,.9036078453063965,0],[.9036398530006409,-.006725301966071129,-.4282403886318207,0],[.0026323413476347923,.9999450445175171,-.010149074718356133,0],[0,0,0,1],[-6.329057216644287,-.9125239849090576,-6.401061058044434]],[[.42870283126831055,.003709107171744108,.9034379720687866,0],[.9034426212310791,-.00430121598765254,-.4286873936653137,0],[.002295834245160222,.9999838471412659,-.005194908939301968,0],[0,0,0,1],[-6.342726230621338,-.914216935634613,-6.397944927215576]],[[.4288300573825836,-.004318851511925459,.9033748507499695,0],[.9033851623535156,.0023397046606987715,-.4288237392902374,0],[-.00026160417473874986,.9999879598617554,.0049049220979213715,0],[0,0,0,1],[-6.360579490661621,-.9133105874061584,-6.400245666503906]],[[.43189486861228943,-.002756074769422412,.9019197225570679,0],[.9019239544868469,.001508265733718872,-.4318922758102417,0],[-.00017000736261252314,.9999950528144836,.003137181978672743,0],[0,0,0,1],[-6.368640899658203,-.9100692868232727,-6.396780967712402]],[[.4344792068004608,-.0014095691731199622,.9006807804107666,0],[.9006818532943726,.0007769344374537468,-.4344785213470459,0],[-8734233415452763e-20,.9999986886978149,.0016071352874860168,0],[0,0,0,1],[-6.375324726104736,-.9084204435348511,-6.393777370452881]],[[.4348851442337036,-.0009024970349855721,.9004854559898376,0],[.9004859328269958,.0004978859797120094,-.43488484621047974,0],[-5585678809438832e-20,.999999463558197,.0010292091174051166,0],[0,0,0,1],[-6.3758416175842285,-.908937931060791,-6.392643928527832]],[[.4349132478237152,-.00033834128407761455,.9004722833633423,0],[.9004723429679871,.0002981926954817027,-.43491315841674805,0],[-.00012136518489569426,.9999998807907104,.00043435493716970086,0],[0,0,0,1],[-6.375228404998779,-.9092316627502441,-6.391663551330566]],[[.4349415898323059,11051265573769342e-21,.9004586935043335,0],[.9004586338996887,.00027054824749939144,-.4349415600299835,0],[-.000248424184974283,.9999999403953552,.00010772148380056024,0],[0,0,0,1],[-6.374875545501709,-.9093039631843567,-6.39129114151001]],[[.43496960401535034,-16987223716569133e-21,.9004451036453247,0],[.9004451036453247,.0001880954223452136,-.43496960401535034,0],[-.0001619806862436235,1,971118570305407e-19,0],[0,0,0,1],[-6.374874114990234,-.9093459248542786,-6.390970230102539]],[[.4349976181983948,-4503101445152424e-20,.9004315733909607,0],[.9004315733909607,.00010564398689894006,-.4349976181983948,0],[-7553680188721046e-20,1,8650223026052117e-20,0],[0,0,0,1],[-6.374873161315918,-.9094051122665405,-6.390847682952881]],[[.4350259602069855,-846882103360258e-19,.9004179239273071,0],[.9004179239273071,15883173546171747e-21,-.4350259602069855,0],[22540076315635815e-21,1,831643701530993e-19,0],[0,0,0,1],[-6.374871730804443,-.909472644329071,-6.390741348266602]],[[.4350539743900299,-.0001098685825127177,.9004043936729431,0],[.9004043340682983,-.0002302287903148681,-.4350539743900299,0],[.0002550977806095034,.9999999403953552,-1235804234056559e-21,0],[0,0,0,1],[-6.374517917633057,-.9098060131072998,-6.390905380249023]],[[.43505945801734924,-.0002956368261948228,.9004016518592834,0],[.9004017114639282,.00012814033834729344,-.43505942821502686,0],[13241813576314598e-21,.9999999403953552,.00032194057712331414,0],[0,0,0,1],[-6.374361991882324,-.9091060757637024,-6.39085578918457]],[[.4350649416446686,-.0002166855992982164,.9003990292549133,0],[.9003990888595581,6466109334724024e-20,-.4350649416446686,0],[3605151505325921e-20,1,.00022323528537526727,0],[0,0,0,1],[-6.3741679191589355,-.9091207385063171,-6.390772819519043]],[[.4350703954696655,-.00013773480895906687,.9003964066505432,0],[.9003964066505432,118157151973719e-20,-.4350704252719879,0],[5886045619263314e-20,1,.0001245299936272204,0],[0,0,0,1],[-6.374039173126221,-.9091354012489319,-6.390725135803223]],[[.43507587909698486,-.00010119386570295319,.9003937840461731,0],[.9003937840461731,5291125035000732e-21,-.43507587909698486,0],[3926291537936777e-20,1,9341636905446649e-20,0],[0,0,0,1],[-6.373994827270508,-.9091500043869019,-6.390677452087402]],[[.43508124351501465,-6476019188994542e-20,.9003912210464478,0],[.9003912210464478,945213560044067e-20,-.43508124351501465,0],[19665327272377908e-21,1,6242195377126336e-20,0],[0,0,0,1],[-6.373950958251953,-.9091646671295166,-6.390664577484131]],[[.435086727142334,-28219119485584088e-21,.9003885388374329,0],[.9003885388374329,13560883417085279e-21,-.435086727142334,0],[6.769946736540078e-8,1,3130833283648826e-20,0],[0,0,0,1],[-6.373934745788574,-.9091793298721313,-6.390652179718018]],[[.4350922107696533,-14478913726634346e-21,.9003859162330627,0],[.9003859162330627,33629928566369927e-22,-.4350922107696533,0],[3271670948379324e-21,1,14499822100333404e-21,0],[0,0,0,1],[-6.373918533325195,-.9091939926147461,-6.390639305114746]]],talisman.modifiers=[{name:"always_one_spell",callbacks:{update:{conditional:{target:"this",if:{less_than_or_eq:["spell_count",0]},do:{draw_spell:1}}}}}],talisman.talisman_board={0:{name:"city",neighbours:[2,24],conditional:{use_raft:[25]},center:{x:410,y:270},col:1,row:1,id:1},1:{name:"fields",neighbours:[1,3],conditional:{use_raft:[25,26]},center:{x:1e3,y:270},col:2,row:1,id:2},2:{name:"hills",neighbours:[2,4],conditional:{use_raft:[26,27]},center:{x:1650,y:270},col:3,row:1,id:3},3:{name:"plains",neighbours:[3,5],conditional:{use_raft:[27]},center:{x:2300,y:270},col:4,row:1,id:4},4:{name:"woods",neighbours:[4,6],conditional:{use_raft:[27,28]},center:{x:2930,y:270},col:5,row:1,id:5},5:{name:"plains",neighbours:[5,7],conditional:{use_raft:[28,29]},center:{x:3580,y:270},col:6,row:1,id:6},6:{name:"tavern",neighbours:[6,8],conditional:{use_raft:[29]},center:{x:4275,y:285},col:7,row:1,id:7},7:{name:"fields",neighbours:[7,9],conditional:{use_raft:[29]},center:{x:4275,y:660},col:7,row:2,id:8},8:{name:"runes",neighbours:[8,10],conditional:{use_raft:[29,30,31]},center:{x:4275,y:1170},col:7,row:3,id:9},9:{name:"plains",neighbours:[9,11],conditional:{use_raft:[31,32]},center:{x:4275,y:1640},col:7,row:4,id:10},10:{name:"forest",neighbours:[10,12],conditional:{use_raft:[32,33]},center:{x:4275,y:1980},col:7,row:5,id:11},11:{name:"fields",neighbours:[11,13],conditional:{use_raft:[33]},center:{x:4275,y:2350},col:7,row:6,id:12},12:{name:"village",neighbours:[12,14],conditional:{use_raft:[33]},center:{x:4200,y:2750},col:7,row:7,id:13},13:{name:"fields",neighbours:[13,15],conditional:{use_raft:[33,34]},center:{x:3575,y:2760},col:6,row:7,id:14},14:{name:"graveyard",neighbours:[14,16],conditional:{use_raft:[34,35]},center:{x:2925,y:2760},col:5,row:7,id:15},15:{name:"woods",neighbours:[15,17],conditional:{use_raft:[35]},center:{x:2255,y:2760},col:4,row:7,id:16},16:{name:"sentinel",neighbours:[16,18,36],conditional:{use_raft:[36,35]},center:{x:1650,y:2760},col:3,row:7,id:17},17:{name:"hills",neighbours:[17,19],conditional:{use_raft:[36,37]},center:{x:1e3,y:2760},col:2,row:7,id:18},18:{name:"chapel",neighbours:[18,20],conditional:{use_raft:[37]},center:{x:405,y:2740},col:1,row:7,id:19},19:{name:"fields",neighbours:[19,21],conditional:{use_raft:[37]},center:{x:310,y:2355},col:1,row:6,id:20},20:{name:"crags",neighbours:[20,22],conditional:{use_raft:[37,38]},center:{x:310,y:1940},col:1,row:5,id:21},21:{name:"plains",neighbours:[21,23],conditional:{use_raft:[39,40]},center:{x:310,y:1535},col:1,row:4,id:22},22:{name:"woods",neighbours:[22,24],conditional:{use_raft:[40,25]},center:{x:310,y:1110},col:1,row:3,id:23},23:{name:"fields",neighbours:[23,1],conditional:{use_raft:[25]},center:{x:310,y:700},col:1,row:2,id:24},24:{name:"warlock's cave",neighbours:[26,40],conditional:{use_raft:[1,2,24]},center:{x:900,y:710},col:2,row:2,id:25},25:{name:"desert",neighbours:[25,26],conditional:{use_raft:[2,3]},center:{x:1550,y:710},col:3,row:2,id:26},26:{name:"oasis",neighbours:[26,28],conditional:{use_raft:[3,4,5]},center:{x:2300,y:710},col:4,row:2,id:27},27:{name:"desert",neighbours:[27,29],conditional:{use_raft:[5,6]},center:{x:3060,y:710},col:5,row:2,id:28},28:{name:"temple",neighbours:[28,30],conditional:{use_raft:[6,7,8,9]},center:{x:3760,y:750},col:6,row:2,id:29},29:{name:"woods",neighbours:[29,31],conditional:{use_raft:[9]},center:{x:3830,y:1135},col:6,row:3,id:30},30:{name:"runes",neighbours:[30,32],conditional:{use_raft:[9,10]},center:{x:3830,y:1545},col:6,row:4,id:31},31:{name:"castle",neighbours:[31,33],conditional:{use_raft:[10,11]},center:{x:3830,y:1920},col:6,row:5,id:32},32:{name:"portal_of_power",neighbours:[32,34,41],conditional:{use_raft:[12,13,14]},center:{x:3680,y:2310},col:6,row:6,id:33},33:{name:"black_knight",neighbours:[33,35],conditional:{use_raft:[14,15]},center:{x:3020,y:2300},col:5,row:6,id:34},34:{name:"hidden_valley",neighbours:[34,36],conditional:{use_raft:[15,16,17]},center:{x:2300,y:2300},col:4,row:6,id:35},35:{name:"hills",neighbours:[35,37,17],conditional:{defeat_sentinel:[35,37],use_raft:[17,18]},center:{x:1530,y:2300},col:3,row:6,id:36},36:{name:"cursed_glade",neighbours:[36,38],conditional:{use_raft:[18,19,20]},center:{x:840,y:2290},col:2,row:6,id:37},37:{name:"runes",neighbours:[37,39],conditional:{use_raft:[21]},center:{x:780,y:1920},col:2,row:5,id:38},38:{name:"chasm",neighbours:[38,40],conditional:{use_raft:[22]},center:{x:780,y:1545},col:2,row:4,id:39},39:{name:"runes",neighbours:[39,25],conditional:{use_raft:[22,23]},center:{x:780,y:1135},col:2,row:3,id:40},40:{name:"plain_of_peril",neighbours:[33,45,46],conditional:{portal_of_power:null},center:{x:3150,y:1900},col:5,row:5,id:41},41:{name:"mines",neighbours:[41,43],center:{x:2335,y:1900},col:4,row:5,id:42},42:{name:"vampire's tower",neighbours:[42,44],center:{x:1420,y:1900},col:3,row:5,id:43},43:{name:"pits",neighbours:[43],conditional:{has_talisman:[48]},center:{x:1310,y:1510},col:3,row:4,id:44},44:{name:"crypt",neighbours:[41,46],center:{x:3390,y:1520},col:5,row:4,id:45},45:{name:"dice_with_death",neighbours:[45,47],center:{x:3165,y:1140},col:5,row:3,id:46},46:{name:"werewolf_den",neighbours:[46,48],center:{x:2335,y:1135},col:4,row:3,id:47},47:{name:"valley of fire",neighbours:[44,47,49],center:{x:1420,y:1140},col:3,row:3,id:48},48:{name:"crown_of_command",neighbours:[48],center:{x:2330,y:1515},col:4,row:4,id:49},49:{name:"crown_of_command",neighbours:[48],center:{x:2330,y:1515},col:4,row:4,id:49}};class Atom{constructor(){}init(e){this.onInit(e)}update(e){this.onUpdate(e)}onInit(e){}onUpdate(e){}}class BaseEntity extends Atom{constructor(e,t,n,i,r=[],o=[]){super(),this.state={name:e,real_name:t,type:n,sub_type:i};for(let e in r)r[e](this,o[e])}}class Enemy extends BaseEntity{constructor(e,t,n,i,r,o={strength:null,craft:null},a=[],s=[]){super(e,t,n,i,a,s),this.state.encounter=r,this.state.val=o}}class Entity extends BaseEntity{constructor(e,t,n,i,r=[],o=[]){super(e,t,n,i,r,o)}canHold(){return!0}canUse(){return!0}use(){return this.onUse(),!0}added(e){return this.onAdded(e),!0}removed(e){return this.onRemoved(e)}used(e,t=null){return this.onUsed(e,t),{val:!0}}canDrop(e){return this.onCanDrop()}onCanDrop(){return!0}onAdded(e){return{val:!0}}onRemoved(e){return!0}onUse(e,t){return!0}reqUse(e,t=null){return this.onReqUse(e,t)}reqAdd(e){return this.onReqAdd(e)}onReqUse(e,t=null){return{val:!0}}onReqUse(e){return{val:!0}}}class Follower extends Entity{constructor(e,t,n,i,r=[],o=[]){super(e,t,n,i,r,o)}}class Item extends Entity{constructor(e,t,n,i,r=[],o=[]){super(e,t,n,i,r,o)}}function add_mod(e,t,n,i=!1){let r=e[t].bind(e);e[t]=e=>{n(e),i||r()}}function add_mod2(e,t){let n=e[t.when].bind(e);e[t.when]=e=>{0==t.replace&&n(),t.callback(e)}}function add_mod2_cond(e,t){let n=e[t.when].bind(e);e[t.when]=i=>{let r=t.callback(i);return n?r:{val:!1,txt:`${i.state.real_name} cannot use ${e.state.real_name}.`}}}function always_x_of_spells(e,t){add_mod2(e,{when:"onUpdate",callback:n=>{e.spellCount()<t.amount&&n.drawSpell(e,t.amount-e.spellCount())}})}function may_mulligan_cards(e,t){null==e.type?add_mod2(e,{when:"onDrawCard",callback:e=>{console.log(e.deck),e.deck==t.deck&&(game.turn.mulligans=Math.max(Math.min(e.amount,t.amount),game.turn.mulligans),console.log("Added mulligans ",game.turn.mulligans))},replace:!1}):(event={event:EVENT.DRAW_CARD,action:e=>{e.turn.mulligans=Math.max(e.turn.mulligans,1)}},PubSub.enable(e),e.subscribe(event.event,action.action))}function change_inventory_size(e,t=4){var n=document.getElementById("inventory").getElementsByTagName("tbody")[0];if(t>0)for(var i=document.createElement("tr"),r=e.state.carryLimit+1;r-1<e.state.carryLimit+t;r++){var o=document.createElement("td");o.id="i"+r,o.setAttribute("class","slot"),i.appendChild(o),r%4==0&&(n.appendChild(i),i=document.createElement("tr"))}else for(r=0;r<-t/4;r++)n.deleteRow(n.rows-r);e.state.carryLimit+=t}function carry_limit_increase(e,t){add_mod(e,"onAdded",e=>{change_inventory_size(e,t.change)}),add_mod(e,"onRemoved",e=>{change_inventory_size(e,-t.change)})}function discard_on_remove(e){add_mod2_cond(e,{when:"onRemoved",callback:()=>({val:!1,text:e.state.real_name+" was discarded."}),replace:!0}),cant_be_dropped(e)}function cant_be_dropped(e){add_mod2_cond(e,{when:"onCanDrop",callback:()=>({val:!1,text:e.state.real_name+" can't be dropped."}),replace:!0})}function required_alignment_to_use(e,t){add_mod2_cond(e,{when:"onReqUse",callback:(n,i)=>n.state.alignment===t.alignment!=(!1===t.NOT)?{val:!0,text:`${e.state.real_name} CAN be used by ${t.alignment} characters`}:{val:!1,text:`${e.state.real_name} can ONLY be used by ${t.alignment} characters`}})}function required_alignment_to_pickup(e,t,n=!1){}function weapon_lifesteal(e,t=1){add_mod2(e,"onBattleWon",(n,i)=>{"creature"==i.type?(console.log(`${e.state.real_name} was used to steal ${t} life from ${i.state.real_name}`),n.changes.lives=1):-1==i.changes&&(console.log(`${e.state.real_name} was used to steal ${t} life from ${i.state.name}`),n.changes.lives=1)})}const RuneSword=()=>new Item("rune_sword","Rune sword","item","Magical Item",[required_alignment_to_use],[{alignment:"evil"}]),CrystalBall=()=>new Item("crystal_ball","Crystal Ball","item","Magical Item"),spell_book=()=>new Item("spell_book","magical_item",[always_one_spell]),rune_sword=()=>new Item("rune_sword","magical_weapon",[required_alignment_to_use,weapon_lifesteal],[{alignment:"evil"},{amount:1}]),holy_grail=()=>new Item("holy_grail","magical_item",[required_alignment_to_use],[{alignment:"good"}]),Mule=()=>new Follower("mule","Mule","follower","Animal",[carry_limit_increase],[{change:4}]),HorseAndCart=()=>new Follower("horse_and_cart","follower",[carry_limit_increase],[{change:8}]);class Character extends Entity{constructor(e,t,n,i,r,o,a=new Map,s=new Map,l=new Map,c=new Array){super(),this.state={name:e,health:t,strength:n,craft:i,fate:r,gold:o,carryLimit:4,items:a,followers:s,spells:l,trophys:c},this.changes={lives:0,strength:0,craft:0,fate:0}}get(e){}add(e){this.state[e.state.type+"s"]}remove(e){}addEntity(e){this.state[e.state.type+"s"][e.state.name]=e,e.added(this),console.log(`${this.state.name} added ${e.state.type}:  ${e.state.name}`)}discardEntity(e,t){let n=this.state[t+"s"];n[e].removed(this),n.delete(e)}dropEntity(e,t){let n=this.state[t+"s"],i=n[e].canDrop(this);if(0==i.val)return i;n[e].removed(this);let r=Object.create(n[e]);return n.delete(e),{val:r}}useEntity(e,t,n=null){return this.state[t+"s"][e].use(this,n)}canUse(e,t,n=null){return this.state[t+"s"][e].reqUse(this,n)}drawCard(e){e={game:e.game,deck:e.deck?e.deck:"adventure",amount:e.amount?e.amount:1},this.onDrawCard(e)}onDrawCard(){}battleWon(e){this.onBattleWon(e)}onBattleWon(e){console.log(e),"creature"==e.state.type&&e.defeated(this)}addTrophy(e){console.log(`${this.state.name} gained a trophy: ${e.state.real_name} with ${e.value.value+" "+e.value.type} .`),this.state.trophys.push(e)}useSpell(){this.onUseSpell()}addSpell(e){this.state.spells[e.name]=e}hasMaxSpells(){return this.spellCount()<this.maxSpells()}maxSpells(){return Math.min(0,Math.floor(this.state.craft/2))}spellCount(){return this.state.spells.size}}class Prophetess extends Character{constructor(){super("Prophetess",2,4,4,2,"good"),always_x_of_spells(this,{amount:1}),may_mulligan_cards(this,{deck:"adventure",amount:1})}}class Creature extends BaseEntity{constructor(e,t,n,i,r,o,a=[],s=[]){super(e,t,n,i,a,s),this.value={type:r?"strength":"craft",value:r||o}}defeated(e){e.addTrophy(this),this.onDefeated(e)}onDefeated(e){}}const Wolf=()=>new Enemy("wolf","Wolf","Enemy","Animal",2,{strength:2});function Board(e){this.asm=e,this.el=document.getElementById("board-wrapper"),this.ctx=document.getElementById("board").getContext("2d"),this.width=969,this.height=640,this.tiles=talisman.talisman_board,this.dirty_frames=[{x:0,y:0,width:this.width,height:this.height}],this.walkDelayMS=400,this.graph=new Graph(graph_cfg)}function Card(e){this.state()}Board.prototype.initialize=function(){let e=this.asm.get("100x100");e.id="character-token",e.style.left=2.5*-e.width*(this.width/4581)+"px",e.style.top=4*e.height*(this.height/3026)+"px";for(var t=0;t<49;t++){let n=document.createElement("img");n.src=e.src,n.index=t,n.id="tile-button",n.style.left="-50px",n.style.top="+150px",this.el.appendChild(n),this.moveToTileID(n,t),n.onclick=()=>this._tilePressed(n.index),this.tiles[t].el=n}},Board.prototype.render=function(){this.dirty_frames.forEach(e=>{this.ctx.clearRect(e.x,e.y,e.width,e.height),this._drawBoard(e)}),this.dirty_frames=[]},Board.prototype._drawImage=function(e,t,n,i={width:null,width:null}){const r=this.asm.get(e);if(i.frame){const e=i.frame;this.ctx.drawImage(r,e.x,e.y,e.width*(r.width/i.width),e.height*(r.height/i.height),e.x,e.y,e.width,e.height)}else console.log(i.width),this.ctx.drawImage(r,t,n,i.width||r.width,i.height||r.height)},Board.prototype._drawBoard=function(e=null){this._drawImage("board",0,0,{width:this.width,height:this.height,frame:e})},Board.prototype.move=function(e,t,n){e.style.WebkitTransform=`translate3d(${t}px, ${n}px, 0px)`},Board.prototype.moveBoard=function(e,t){this.el.style.WebkitTransform=`translate3d(${e}px, ${t}px, 0px)`},Board.prototype.moveToTileAtPos=function(e,t,n){this.move(e,t*(this.width/4581),n*(this.height/3026))},Board.prototype.moveToTileID=function(e,t){this.moveToTileAtPos(e,this.tiles[t].center.x,this.tiles[t].center.y)},Board.prototype.walkToTileID=async function(e,t){this.moveToTileAtPos(e,this.tiles[t].center.x,this.tiles[t].center.y),this.currentIndex=t,await this._timeout(this.walkDelayMS)},Board.prototype.walkToTile=async function(e,t){this.moveToTileAtPos(e,t.center.x,t.center.y),await this._timeout(this.walkDelayMS)},Board.prototype.moveToTile=function(e,t){this.moveToTileAtPos(e,t.center.x,t.center.y)},Board.prototype.walkPath=async function(e,t,n){null!=t&&(this.moveToTileID(e,t),console.log(t),await this._timeout(this.walkDelayMS),this.currentIndex=t,this.walkPath(e,n[t],n))},Board.prototype._tilePressed=function(e){if(console.log(e),this.currentPlayerMove){this.moveToTileID(this.currentPlayerMove,e+1);let[t,n]=this.graph.dijkstra(e);this.walkPath(this.currentPlayerMove,this.currentIndex,n)}},Board.prototype._timeout=function(e){return new Promise(t=>setTimeout(t,e))};const deck_cfg={adventure_deck:{name:"adventure_deck",real_name:"Adventure Deck",cards:["wolf","dragon","demon"]}};function Deck(e){this.name=e.name,this.real_name=e.real_name,this.cards=e.cards}function Dice(){el=document.getElementById("dice")}Deck.prototype.draw=function(e=1){return this.cards.splice(this.cards.length-e,e)},Deck.prototype.shuffle=function(){for(var e,t,n=this.cards.length;0!==n;)t=Math.floor(Math.random()*n),n-=1,e=this.cards[n],this.cards[n]=this.cards[t],this.cards[t]=e},Dice.prototype.roll=function(e=1){var t=e;for(let n=0;n<e;n++)t+=Math.floor(5*Math.random())+1;return t},Dice.prototype.playAnimation=async function(e=0){let t=Math.floor(3*Math.random())+1;console.log(t,e);let n=talisman["dice_animation_"+t];for(let t=0;t<84;t++)a=n[t],result=["rotateY(11deg) rotateX(270deg)","rotateY(180deg)","rotateY(90deg)","rotateY(270deg)","","rotateY(11deg) rotateX(90deg)"],webkit=`\n    rotateX(35deg) rotateZ(0deg) rotateY(-25deg) translateZ(217px)\n    translate3d(${50*a[4][0]}px,${50*a[4][1]}px,${50*a[4][2]+117}px) ${result[e-1]}\n    matrix3d(${a[0][0]},${a[0][1]},${a[0][2]},${a[0][3]},${a[1][0]},${a[1][1]},${a[1][2]},${a[1][3]}, ${a[2][0]},${a[2][1]},${a[2][2]},${a[2][3]}, ${a[3][0]},${a[3][1]},${a[3][2]},${a[3][3]})`,el.style.WebkitTransform=webkit,await this._timeout(15)},Dice.prototype.spinDice=async function(e=Number.MAX_VALUE){let t=0,n=0,i=117;for(let r=0;r<e;r++)n+=86,t+=36,t%=360,i%=117,el.style="transition: 0.5s linear",el.style.WebkitTransform=`rotateX(${n}deg)rotateZ(${t}deg)`,await this._timeout(500)},Dice.prototype._timeout=function(e){return new Promise(t=>setTimeout(t,e))},EVENT={CREATURE_DEFEATED:0,CREATURE_KILLED:1,CREATURE_STALEMATE:2,PLAYER_DEFATED:3,PLAYER_KILLED:4,PLAYER_STALEMATE:5,SPELL_CAST:6};const game_cfg={state:{init:"init",transitions:[{name:"startTurn",from:["init","end_turn"],to:"start_turn"},{name:"movement",from:["entity_effect","card_effect","tile_effect","spell_effect","dice_result","start_turn","use_entity"],to:"move"},{name:"last_turn",from:["battle_won","encounter_end"],to:"end_turn"},{name:"diceResult",from:"roll_dice",to:"dice_result"},{name:"useFate",from:["roll_dice"],to:"dice_result"},{name:"useEntity",from:["start_turn","roll_dice","encounter"],to:"use_entity"},{name:"encounter",from:"move",to:"encounter"},{name:"encounterTile",from:["encounter","defeat_creature","evade_creature","movement"],to:"tile_effect"},{name:"encounterDrawTile",from:"encounter",to:"encounter_draw_tile"},{name:"encounterCharacter",from:"encounter",to:"encounter_character"},{name:"engageBattle",from:["encounter_character","encounter_creature","card_effect","tile_effect","spell_effect"],to:"engage_battle"},{name:"battleLost",from:"engage_battle",to:"battle_lost"},{name:"battleWon",from:"engage_battle",to:"battle_won"},{name:"battleStalemate",from:"engage_battle",to:"end_turn"},{name:"specialAbility",from:["encounter","encounter_character","encounter_creature","encounter_card","engage_creature","engage_character","roll_dice"]},{name:"applyChanges",from:"encounter_end"},{name:"missTurn",from:["start_turn","tile_effect","spell_effect","card_effect"],to:"end_turn"},{name:"drawCard",from:["encounter_draw_tile","card_effect","tile_effect"],to:"draw_card"},{name:"mulliganCard",from:"draw_card",to:"mulligan_card"},{name:"encounterCard",from:["encounter","tile_effect","encounter_draw_tile","draw_card"],to:"card_effect"},{name:"rollDice",from:["start_turn","entity_effect","card_effect","tile_effect","spell_effect","movement"],to:"roll_dice"},{name:"endTurn",from:["encounter_end","battle_stalemate","battle_end"]}]},events:[{event:EVENT.CREATURE_DEFEATED,action:function(e,t){this.onCreatureWon(e,t)}},{event:EVENT.CREATURE_KILLED,action:function(e,t){this.onCreatureKilled(e,t)}},{event:EVENT.CREATURE_STALEMATE,action:function(e,t){this.onCreatureStalemate(e,t)}},{event:EVENT.PLAYER_DEFEATED,action:function(e,t){this.onPlayerDefeated(character,t)}},{event:EVENT.PLAYER_KILLED,action:function(e,t){this.onPlayerKilled(character,t)}},{event:EVENT.PLAYER_STALEMATE,action:function(e,t){this.onPlayerStalemate(character,t)}},{event:EVENT.SPELL_CAST,action:function(e,t,n=null){this.onSpellCast(e,t,n)}},{event:EVENT.ENTITY_USED,action:function(e,t,n=null){this.onEntityUsed(e,t,n)}},{event:EVENT.ROLL_DIE,action:function(e){this.onRollDie(e)}},{event:EVENT.PLAYER_ROLL_DIE,action:function(e){this.onPlayerRollDie(e)}},{event:EVENT.PLAYER_DICE_RESULT,action:function(e){this.onPlayerRollDie(e)}},{event:EVENT.PLAYER_MOVE,action:function(e){this.onPlayerMove(e)}},{event:EVENT.PLAYER_DRAW_CARD,action:function(e){this.onPlayerDrawCard(e)}},{event:EVENT.PLAYER_DRAW_SPELL,action:function(e){this.onPlayerDrawSpell(e)}}]};PubSub={enable:function(e){e.subscribe=function(e,t){this.subscribers=this.subscribers||{},this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t)},e.publish=function(t){if(console.log(t),this.subscribers&&this.subscribers[t]){var n,i,r=this.subscribers[t],o=[].slice.call(arguments,1);for(n=0,i=r.length;n<i;n++)r[n].apply(e,o)}}}};class Game extends StateMachine{constructor(e,t){console.log(e.state),super(e.state),this.asm=t,PubSub.enable(this);for(let t in e.events)this.subscribe(t,e.events[t].action)}}Game.prototype.onInit=function(){return console.log("init"),!1},Game.prototype.onStartTurn=function(){return console.log("Start turn"),!1},Game.prototype.testTurns=function(){console.log(this.allStates()),console.log(this.transitions());let e=["startTurn","useEntity","movement","encounter","encounterCharacter","engageBattle","battleWon","lastTurn"];for(let t in e)console.log(this.transitions()),this[e[t]](),console.log(this.state)};const graph_cfg={nodes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],edges:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,16],[16,17],[17,18],[18,19],[19,20],[20,21],[21,22],[22,23],[23,0],[16,35],[24,25],[25,26],[26,27],[27,28],[28,29],[29,30],[30,31],[31,32],[32,33],[33,34],[34,35],[35,36],[36,37],[37,38],[38,39],[39,24],[32,40],[40,41],[41,42],[42,43],[43,47],[40,44],[44,45],[45,46],[46,47],[47,48]]};function Graph(e){return list=null,matrix=null,i(e.nodes,e.edges),{addNode:t,addEdge:n,createGraph:i,dfs:function e(t,n){if(t.id===n.id)return t;len=new Map;for(var i=0;i<t.children.length;i++)if(result=e(t.children[i],n),null!=result)return result;return null},dijkstra:function(e){for(var t=[],n=0;n<matrix.length;n++)t[n]=Number.MAX_VALUE;t[e]=0;var i=[],r=new Array(matrix.length);r[e]=null;for(;;){var o=Number.MAX_VALUE,a=-1;for(n=0;n<matrix.length;n++)t[n]<o&&!i[n]&&(o=t[n],a=n);if(-1===a)break;for(n=0;n<matrix[a].length;n++)0!==matrix[a][n]&&t[n]>t[a]+matrix[a][n]&&(r[n]=a,t[n]=t[a]+matrix[a][n]);i[a]=!0}return[t,r]}};function t(e){list.set(e,[]);for(let e=0;e<matrix.length;e++){matrix[e].push(0)}matrix.push(new Array(matrix.length).fill(0))}function n(e,t){list.get(e).push(t),list.get(t).push(e),matrix[e][t]=1,matrix[t][e]=1}function i(e,i){list=new Map,matrix=new Array,e.forEach(e=>t(e)),i.forEach(e=>n(e[0],e[1]))}}const Tree={findSubNode(e,t){if(e.id&&e.id==t)return e;if(null!=e.children){var n=null;for(let i=0;null==n&&i<e.children.length;i++)n=this.findSubNode(e.children[i],t);return n}return null},findNode(e,t){var n=null;let i=0;for(;null==n&&i<e.length;i++)n=this.findSubNode(e[i],t);return[n,e[i-1]]},flattenNodes(e,t=[]){if(t.push(e),e.children)for(let n=0;n<e.children.length;n++)t.concat(this.flattenNodes(e.children[n],t));return t.forEach(e=>{if(e.children)for(let t=0;t<e.children.length;t++)e.children=[]}),t},flatten(e){var t=[];return[...e].forEach(e=>{if(Array.isArray(e))t.push(...flatten(e));else if(e.children)for(let n=0;n<e.children.length;n++)t.concat(...this.flattenNodes(e.children[n],t))}),t.forEach(e=>{if(e.children)for(let t=0;t<e.children.length;t++)e.children=[]}),t.map(({id:e,parent:t,moves:n,conditionals:i})=>({id:e,parent:t,moves:n,conditionals:i,children:[]})),t},findPathToNode(e,t){let n=[t],i=new Set,r=[];for(;n.length>0;){r=n.shift();let e=r;if(void 0===e)return null;if(e.id==t.id)return r;i.has(e)||i.add(e)}}},assets_cfg={assets:[{id:"board",src:"assets/talisman_board_hr.jpg",width:4581,height:3026},{id:"prophetess",src:"assets/prophetess.png",width:120,height:120},{id:"100x100",src:"assets/100x100.png",width:100,height:100}]};function AssetsManager(e){return images={},{loadAssets:function(){return Array.from({length:e.assets.length},(t,i)=>n(e.assets[i].id,e.assets[i].src,{x:e.assets[i].width,y:e.assets[i].height}))},getImage:t,get:t,loadImage:n};function t(e){return e in images?images[e]:null}function n(e,t,n={x:null,y:null}){var i=new Image,r=new Promise(function(n,r){i.onload=function(){images[e]=i,n(i)}.bind(this),i.onerror=function(){r("Could not load image: "+t)}}.bind(this));return i.src=t,i.width=n.x,i.height=n.y,i.style=`width: ${n.x}px; height: ${n.y}px;`,r}}class GameOld{constructor(){this.boardEl=document.getElementById("board-wrapper"),this.ctx=document.getElementById("board").getContext("2d"),this.asm=new AssetsManager(cfg),this.width=969,this.height=640,this.dirty_frames=[{x:0,y:0,width:this.width,height:this.height}],this.mousedown=!1}initMouseMove(e){this.mousedown=!0,this.mx=e.clientX,this.my=e.clientY}rotate(e,t,n,i){var r=Math.cos(n),o=Math.sin(n),a=Math.cos(i),s=Math.sin(i),l=e.x-t.x,c=e.y-t.y,d=e.z-t.z;e.x=r*l-o*a*c+o*s*d+t.x,e.y=o*l+r*a*c-r*s*d+t.y,e.z=s*c+a*d+t.z}mouseMove(e){if(this.mousedown){console.log(t,n);var t=e.clientX/1e3*180/Math.PI,n=e.clientY/1e3*180/Math.PI;console.log(t,n),document.getElementById("board-wrapper").style.WebkitTransform=`\n    perspective(2040px)\n    rotateX(${t}deg)\n    rotateY(${t}deg)\n    translateZ(217px)\n    `,this.mx=e.clientX,this.my=e.clientY}}stopMouseMove(){this.mousedown=!1}start(){this._previousElapsed=0,Promise.all(this.asm.loadAssets()).then(function(e){this.init(),window.requestAnimationFrame(this.tick)}.bind(this))}init(){var e=this.asm.get("prophetess");e.id="character-token",e.style.left=2.5*-e.width*(this.width/4581)+"px",e.style.top=4*e.height*(this.height/3026)+"px",document.getElementById("board-wrapper").appendChild(e),this.loopTiles(e),(e=this.asm.get("100x100")).id="character-token",e.style.left=2.5*-e.width*(this.width/4581)+"px",e.style.top=4*e.height*(this.height/3026)+"px";for(var t=1;t<50;t++){let n=document.createElement("img");n.src=e.src,n.id="tile-button",n.style.left="-50px",n.style.top="+150px",this.boardEl.appendChild(n),this.moveToTile(n,t)}var n=document.getElementById("dice");this.spinDice(n)}async spinDice(e){let t=0,n=0,i=117;for(;;)n+=86,t+=36,i+=10,t%=360,n%=360,i%=117,e.style.WebkitTransform=`rotateX(${n}deg)rotateZ(${t}deg) translateZ(${i}px)`,await this.timeout(1500)}async loopTiles(e){for(var t=1;t<50;t++)this.moveToTile(e,t),await this.timeout(500)}moveToTile(e,t){this.moveToTileAtPos(e,talisman.talisman_board[t].center.x,talisman.talisman_board[t].center.y)}zoomToTile(e,t){let n=90;t<7||t>25&&t<29||t>45&&t<48?n=180:t<13||t<33&&t>29?n=90:t<19||t<37&&t>33?n=0:(t<24||t<40&&t>36)&&(n=-90),this.transformBoard(35,n,0,0)}moveToTileAtPos(e,t,n){this.move(e,t*(this.width/4581),n*(this.height/3026))}transform(e,t,n,i={x:0,y:0}){e.style.WebkitTransform=`\n    perspective(2040px)\n    rotateX(${t}deg)\n    rotateZ(${n}deg)\n    rotate(-90deg)\n    translateZ(217px)\n    translate3d(${i.x}px, ${i.y}px, 10px)\n    `}move(e,t,n){e.style.WebkitTransform=`translate3d(${t}px, ${n}px, 0px)`,e.style.WebkitTransform+="rotateX(5deg)"}moveBoard(e,t){this.boardEl.style.WebkitTransform=`translate3d(${e}px, ${t}px, 0px)`}update(e){}timeout(e){return new Promise(t=>setTimeout(t,e))}transformBoard(e,t,n,i=1,r={x:0,y:0}){this.boardEl.style.WebkitTransform=`perspective(2040px) rotateX(${e}deg) rotateZ(${t}deg) rotateY(${n}deg) translateZ(${217*i}px) `,this.boardEl.style.WebkitTransform+=`translate3d(${r.x}px, ${r.y}px, 0px)`}transform_(){var e=camera.getOrientation(),t=camera.getPosition();cameraElem.style.WebkitTransform="rotateX("+e[0]+"deg) rotateY("+e[1]+"deg) rotateZ("+e[2]+"deg)",assemblyElem.style.WebkitTransform="translate3d("+-t[0]+"px, "+-t[1]+"px, "+-t[2]+"px)"}render(){this.dirty_frames.forEach(e=>{this.ctx.clearRect(e.x,e.y,e.width,e.height),this._drawBoard(e)}),this.dirty_frames=[]}_drawImage(e,t,n,i={width:null,width:null}){const r=this.asm.get(e);if(i.frame){const e=i.frame;this.ctx.drawImage(r,e.x,e.y,e.width*(r.width/i.width),e.height*(r.height/i.height),e.x,e.y,e.width,e.height)}else console.log(i.width),this.ctx.drawImage(r,t,n,i.width||r.width,i.height||r.height)}_drawBoard(e=null){this._drawImage("board",0,0,{width:this.width,height:this.height,frame:e})}tick=e=>{window.requestAnimationFrame(this.tick);var t=(e-this._previousElapsed)/1e3;t=Math.min(t,.25),this._previousElapsed=e,this.update(t),this.dirty_frames.length&&this.render()}}window.onload=function(){asm=new this.AssetsManager(assets_cfg),Promise.all(asm.loadAssets()).then((function(e){var t=new Board(asm);t.initialize(),t.render();var n=this.asm.get("prophetess");n.id="character-token",n.style.left=2.5*-n.width*(t.width/4581)+"px",n.style.top=4*n.height*(t.height/3026)+"px",document.getElementById("board-wrapper").appendChild(n),t.currentPlayerMove=n,t.currentIndex=0;let i=new Dice;i.playAnimation(i.roll());new Enemy("wolf","Wolf","Enemy","Animal",2,{strength:2})}))};